var Mr=Object.defineProperty,aa=Object.defineProperties;var ia=Object.getOwnPropertyDescriptors;var St=Object.getOwnPropertySymbols;var Fo=Object.prototype.hasOwnProperty,No=Object.prototype.propertyIsEnumerable;var Oo=(e,t,r)=>t in e?Mr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,y=(e,t)=>{for(var r in t||(t={}))Fo.call(t,r)&&Oo(e,r,t[r]);if(St)for(var r of St(t))No.call(t,r)&&Oo(e,r,t[r]);return e},D=(e,t)=>aa(e,ia(t));var n=(e,t)=>Mr(e,"name",{value:t,configurable:!0});var Re=e=>typeof e=="symbol"?e:e+"",F=(e,t)=>{var r={};for(var o in e)Fo.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(e!=null&&St)for(var o of St(e))t.indexOf(o)<0&&No.call(e,o)&&(r[o]=e[o]);return r};var ca=(e,t)=>{for(var r in t)Mr(e,r,{get:t[r],enumerable:!0})};import*as ao from"react";import*as ge from"react";import{useMemo as ro}from"react";import{QueryClientProvider as tu,QueryClient as ru}from"react-query";import*as be from"react";import{useMemo as ma}from"react";import{useInRouterContext as fa}from"react-router-dom";import{createHashHistory as ya}from"history";import*as Uo from"react";import{useLayoutEffect as ua,useState as la}from"react";import{Router as da}from"react-router";function ko({basename:e,children:t,history:r}){let[o,s]=la({action:r.action,location:r.location});return ua(()=>r.listen(s),[r]),Uo.createElement(da,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:r})}n(ko,"HistoryRouter");import*as jo from"react";import{createContext as pa}from"react";var Mt=pa("");var Vo=n(({children:e,basename:t})=>jo.createElement(Mt.Provider,{value:t},e),"BasenameContextProvider");var Go=n(({history:e,basename:t="",children:r})=>{let o=fa();return be.createElement(Vo,{basename:o?t:""},be.createElement(o?ga:Ra,{basename:t,history:e},r))},"AdminRouter"),ga=n(({children:e})=>be.createElement(be.Fragment,null,e),"DummyRouter"),Ra=n(({children:e,history:t})=>{let r=ma(()=>t||ya(),[t]);return be.createElement(ko,{history:r},e)},"InternalRouter");var Wm=n((e,t,r="edit")=>{let o=`${e}/${encodeURIComponent(t)}`;return r==="show"?`${o}/show`:o},"linkToRecord");var Jm=n((e,t,r,o,s="")=>{if(typeof e=="function"){let a=e(t,r,o);return typeof a=="string"?Ae(`${s}/${a}`):y({pathname:Ae(`${s}/${a.pathname}`)},a)}switch(e){case"list":return Ae(`${s}/${t}`);case"create":return Ae(`${s}/${t}/create`);case"edit":return Ae(`${s}/${t}/${encodeURIComponent(r)}`);case"show":return Ae(`${s}/${t}/${encodeURIComponent(r)}/show`);default:return e}},"resolveRedirectTo"),Ae=n(e=>e.replace("//","/"),"removeDoubleSlashes");import{useContext as Pa}from"react";var ae=n(()=>Pa(Mt),"useBasename");import{useCallback as ha}from"react";var Lt=n(()=>{let e=ae();return ha(({resource:t,id:r,type:o})=>{switch(o){case"list":return ie(`${e}/${t}`);case"create":return ie(`${e}/${t}/create`);case"edit":return ie(`${e}/${t}/${encodeURIComponent(r)}`);case"show":return ie(`${e}/${t}/${encodeURIComponent(r)}/show`);default:return o}},[e])},"useCreatePath"),ie=n(e=>e.replace("//","/"),"removeDoubleSlashes");import{useCallback as xa}from"react";import{useNavigate as Ca}from"react-router-dom";import{parsePath as Ta}from"history";var ce=n(()=>{let e=Ca(),t=ae(),r=Lt();return xa((o,s="",a,i,u={})=>{if(o)if(typeof o=="function"){let c=o(s,a,i),p=typeof c=="string"?`${t}/${c}`:y({pathname:`${t}/${c.pathname}`},c);e(typeof p=="string"?Ta(p):p,{state:y({_scrollToTop:!0},u)});return}else if(typeof o=="string"&&o.startsWith("http")&&window){window.location.href=o;return}else{e(r({resource:s,id:a,type:o}),{state:y({_scrollToTop:!0},u)});return}else return},[e,t,r])},"useRedirect");import{useEffect as Sa}from"react";import{useLocation as Ma}from"react-router-dom";var Qo=n(()=>{let e=Ma();Sa(()=>{var t;((t=e.state)==null?void 0:t._scrollToTop)&&typeof window!="undefined"&&window.scrollTo(0,0)},[e])},"useScrollToTop");import{createContext as La}from"react";var ba={id:""},Ea={login:()=>Promise.resolve(),logout:()=>Promise.resolve(),checkAuth:()=>Promise.resolve(),checkError:()=>Promise.resolve(),getPermissions:()=>Promise.resolve(),getIdentity:()=>Promise.resolve(ba)},_o=La(Ea);_o.displayName="AuthContext";var We=_o;import{useContext as va}from"react";var Fe={loginUrl:"/login",afterLoginUrl:"/"},Da=n(()=>va(We),"useAuthProvider"),ee=Da;import{useEffect as Fi}from"react";import{useCallback as wi}from"react";import{useCallback as mn,useEffect as bi,useRef as fn}from"react";import{useLocation as Ei,useNavigate as vi}from"react-router-dom";var fe="RaStore",bt=fe.length,wa=n(()=>{if(typeof window=="undefined"||window.localStorage==null)return!1;try{return window.localStorage.setItem("test","test"),window.localStorage.removeItem("test"),!0}catch{return!1}},"testLocalStorage"),Lr=wa(),Rf=n((e="1")=>{let t={},r=n((s,a)=>{Object.keys(t).forEach(i=>{!t[i]||t[i].key===s&&t[i].callback(a)})},"publish"),o=n(s=>{if(s.key.substring(0,bt)!==fe)return;let a=s.key.substring(bt+1),i=zo(s.newValue);Object.keys(t).forEach(u=>{!t[u]||t[u].key===a&&(i===null?t[u].callback(void 0):t[u].callback(i==null?void 0:i))})},"onLocalStorageChange");return{setup:()=>{if(Lr){let s=Pe().getItem(`${fe}.version`);s&&s!==e&&Pe().clear(),Pe().setItem(`${fe}.version`,e),window.addEventListener("storage",o)}},teardown:()=>{Lr&&window.removeEventListener("storage",o)},getItem(s,a){let i=zo(Pe().getItem(`${fe}.${s}`));return i==null?a:i},setItem(s,a){a===void 0?Pe().removeItem(`${fe}.${s}`):Pe().setItem(`${fe}.${s}`,JSON.stringify(a)),r(s,a)},removeItem(s){Pe().removeItem(`${fe}.${s}`),r(s,void 0)},reset(){let s=Pe();for(let a=0;a<s.length;a++)if(s.key(a).substring(0,bt)===fe){let i=s.key(a).substring(bt+1);s.removeItem(s.key(a)),r(i,void 0)}},subscribe:(s,a)=>{let i=Math.random().toString();return t[i]={key:s,callback:a},()=>{delete t[i]}}}},"localStorageStore"),zo=n(e=>{try{return JSON.parse(e)}catch{return e}},"tryParse"),br=class{constructor(){this.valuesMap=new Map}getItem(t){return this.valuesMap.has(t)?String(this.valuesMap.get(t)):null}setItem(t,r){this.valuesMap.set(t,r)}removeItem(t){this.valuesMap.delete(t)}clear(){this.valuesMap.clear()}key(t){if(arguments.length===0)throw new TypeError("Failed to execute 'key' on 'Storage': 1 argument required, but only 0 present.");return Array.from(this.valuesMap.keys())[t]}get length(){return this.valuesMap.size}};n(br,"LocalStorageShim");var Ia=new br,Pe=n(()=>Lr?window.localStorage:Ia,"getStorage");import Aa from"lodash/set";import Ho from"lodash/unset";import Fa from"lodash/get";var Et=n((e={})=>{let t={},r=n((o,s)=>{Object.keys(t).forEach(a=>{!t[a]||t[a].key===o&&t[a].callback(s)})},"publish");return{setup:()=>{},teardown:()=>{Object.keys(e).forEach(o=>delete e[o])},getItem(o,s){return Fa(e,o,s)},setItem(o,s){Aa(e,o,s),r(o,s)},removeItem(o){Ho(e,o),r(o,void 0)},reset(){Object.keys(e).forEach(o=>{Ho(e,o),r(o,void 0)})},subscribe:(o,s)=>{let a=Math.random().toString();return t[a]={key:o,callback:s},()=>{delete t[a]}}}},"memoryStore");import{createContext as Na}from"react";var Oa=Et(),vt=Na(Oa);import*as Wo from"react";import{useEffect as Ua}from"react";var Yo=n(({value:e,children:t})=>(Ua(()=>(e.setup(),()=>{e.teardown()}),[e]),Wo.createElement(vt.Provider,{value:e},t)),"StoreContextProvider");import*as Dt from"react";import{useEffect as ja}from"react";import{useContext as ka}from"react";var he=n(()=>ka(vt),"useStoreContext");var Of=n(({value:e,name:t,children:r})=>{let{setItem:o}=he();return ja(()=>{o(t,e)},[t,o,e]),Dt.createElement(Dt.Fragment,null,r)},"StoreSetter");import{useState as Si,useEffect as Mi}from"react";var Va=n(e=>e.replace(/(\(|\))/g,"\\$1"),"default");import*as vr from"react";import{memo as ii}from"react";import*as qo from"react";import $a from"lodash/get";import*as Zo from"react";import{useEffect as Ya,useState as Bo}from"react";import{createContext as Ga}from"react";var Ye=Ga({translate:e=>e,changeLocale:()=>Promise.resolve(),getLocale:()=>"en"});Ye.displayName="I18nContext";import{useCallback as za}from"react";import{useContext as _a}from"react";import{createContext as Qa}from"react";var wt=Qa({notifications:[],addNotification:()=>{},takeNotification:()=>{},resetNotifications:()=>{}});var It=n(()=>_a(wt),"useNotificationContext");var G=n(()=>{let{addNotification:e}=It();return za((t,r={})=>{let a=r,{type:o="info"}=a,s=F(a,["type"]);e({message:t,type:o,notificationOptions:s})},[e])},"useNotify");import*as Jo from"react";import{useState as Ha,useCallback as Er,useMemo as Wa}from"react";var $o=n(({children:e})=>{let[t,r]=Ha([]),o=Er(u=>{r(c=>[...c,u])},[]),s=Er(()=>{let[u,...c]=t;return r(c),u},[t]),a=Er(()=>{r([])},[]),i=Wa(()=>({notifications:t,addNotification:o,takeNotification:s,resetNotifications:a}),[t]);return Jo.createElement(wt.Provider,{value:i},e)},"NotificationContextProvider");var At=n(({value:e=Ja,children:t})=>{let[r]=ue("locale"),o=G(),[s,a]=Bo(0),[i,u]=Bo(r===e.getLocale());return Ya(()=>{r&&e.getLocale()!==r?new Promise(c=>{c(e.changeLocale(r))}).then(()=>{a(c=>c+1),u(!0)}).catch(c=>{u(!0),o("ra.notification.i18n_error",{type:"warning"}),console.error(c)}):u(!0)},[e,r,o]),i?Zo.createElement(Ye.Provider,{value:e,key:s},t):null},"I18nContextProvider"),Ja={translate:e=>e,changeLocale:()=>Promise.resolve(),getLocale:()=>"en"};var sy=n(({translate:e,messages:t,children:r})=>qo.createElement(At,{value:{translate:t?(o,s)=>{let a=$a(t,o);return a?typeof a=="function"?a(s):a:s._}:e,changeLocale:()=>Promise.resolve(),getLocale:()=>"en"}},r),"TestTranslationProvider");import{createContext as Za}from"react";var Ft=Za(void 0);import*as Ko from"react";var dy=n(({children:e,value:t})=>Ko.createElement(Ft.Provider,{value:t},e),"TranslatableContextProvider");import Ba from"lodash/merge";var yy=n((e,t)=>{let{language:r,browserLanguage:o,userLanguage:s}=window.navigator,a=r||o||s||e||Xo;return(t==null?void 0:t.fullLocale)?a:a.split("-")[0]},"resolveBrowserLocale"),gy=n((...e)=>Ba({},...e),"mergeTranslations");import{useMemo as Ka}from"react";import{useContext as qa}from"react";var Nt=n(()=>qa(Ye),"useI18nProvider");var Ne=n(()=>{let e=Nt(),t=Ka(()=>e.getLocale(),[e]);return ue("locale",t)},"useLocaleState");var by=n(()=>{let[e]=Ne();return e},"useLocale");var Dy=n(()=>{let[,e]=Ne();return e},"useSetLocale");import{useState as ti,useMemo as ri}from"react";import{useCallback as Xa}from"react";var Q=n(()=>{let e=Nt(),t=Xa((r,o)=>e.translate(r,o),[e]);return e?t:ei},"useTranslate"),ei=n(e=>e,"identity");var Vy=n(e=>{let[t]=Ne(),{defaultLocale:r=t,locales:o}=e,[s,a]=ti(r),i=H({}),u=Q();return ri(()=>({getSource:(p,m=s)=>`${p}.${m}`,getLabel:(p,m)=>u(...Je({source:p,resource:i,label:m})),locales:o,selectedLocale:s,selectLocale:a}),[o,i,s,u])},"useTranslatable");import{useContext as oi}from"react";var Hy=n(()=>{let e=oi(Ft);if(!e)throw new Error("useTranslatableContext must be used inside a TranslatableContextProvider");return e},"useTranslatableContext");var Xo="en";import ni from"inflection";var Je=n(e=>{if(!e)return[""];let{label:t,parentSource:r,resource:o,source:s}=e;return typeof t!="undefined"?[t,{_:t}]:typeof s!="undefined"?[`resources.${o}.fields.${r?`${r}.${s}`:s}`,{_:ni.transform(s,["underscore","humanize"])}]:[""]},"default");import{useContext as ai}from"react";import{createContext as si}from"react";var Ot=si(void 0);var H=n(e=>{let t=ai(Ot);return e&&e.resource||t},"useResourceContext");var en=n(e=>{let{source:t,label:r,isRequired:o}=e,s=H(e),a=Q();return r===!1||r===""?null:r&&typeof r!="string"?r:vr.createElement("span",null,a(...Je({label:r,resource:s,source:t})),o&&vr.createElement("span",{"aria-hidden":"true"},"\u2009*"))},"FieldTitle");en.displayName="FieldTitle";var ci=ii(en);import{isValidElementType as ui}from"react-is";var li=n((e,t,r)=>{if(e[t]&&!ui(e[t]))return new Error(`Invalid prop '${t}' supplied to '${r}': the prop is not a valid React component`)},"default");function tn(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}n(tn,"is");var rn=n((e,t)=>{if(tn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;let r=Object.keys(e),o=Object.keys(t);if(r.length!==o.length)return!1;for(let s=0;s<r.length;s++)if(!Object.prototype.hasOwnProperty.call(t,r[s])||!tn(e[r[s]],t[r[s]]))return!1;return!0},"shallowEqual");var di=n(e=>e&&Object.prototype.toString.call(e)==="[object Object]","isObject"),pi=n(e=>e instanceof Date?!1:e===""||e===null||e===void 0||rn(e,{}),"isEmpty"),on=n(e=>Object.keys(e).reduce((t,r)=>{let o=e[r];return di(e[r])&&(o=on(e[r])),pi(o)?t:D(y({},t),{[r]:o})},{}),"removeEmpty"),X=on;var nn=n((e,t)=>Object.keys(e).reduce((r,o)=>o!==t?Object.assign({},r,{[o]:e[o]}):r,{}),"removeKey"),sn=n((e,t)=>{let r=t.split(".");if(r.length===1)return nn(e,t);let o=r[0];if(e[o]===void 0)return e;let s=sn(e[o],r.slice(1).join("."));return Object.keys(s).length===0?nn(e,o):Object.assign({},e,{[o]:s})},"deepRemoveKey"),Dr=sn;import*as Z from"react";import{useState as mi}from"react";var xe={root:{width:"100vw",height:"100vh",display:"flex",flexDirection:"column",fontFamily:'"Roboto", sans-serif'},main:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",flexDirection:"column",background:"linear-gradient(135deg, #00023b 0%, #00023b 50%, #313264 100%)",color:"white",fontSize:"1.5em",fontWeight:"bold"},secondary:{height:"20vh",background:"#e8e8e8",color:"black",display:"flex",alignItems:"center",justifyContent:"space-evenly"},link:{textAlign:"center",width:150,display:"block",textDecoration:"none",color:"black",opacity:.7},linkHovered:{opacity:1},image:{width:50},logo:{height:100}},wr=n(({img:e,label:t,href:r})=>{let[o,s]=mi(!1);return Z.createElement("div",null,Z.createElement("a",{href:r,style:o?y(y({},xe.link),xe.linkHovered):xe.link,onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1)},Z.createElement("img",{src:e,alt:t,style:xe.image}),Z.createElement("br",null),t))},"Button"),Ir=n(()=>process.env.NODE_ENV==="production"?Z.createElement("span",null):Z.createElement("div",{style:xe.root},Z.createElement("div",{style:xe.main},Z.createElement("img",{style:xe.logo,src:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkNhbHF1ZV8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIKCSB2aWV3Qm94PSIwIDAgMTMxIDEzMSIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTMxIDEzMTsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPgoJLnN0MHtmaWxsOiMyMjI0NTg7fQoJLnN0MXtmaWxsOiM1MTUzN0Q7fQoJLnN0MntmaWxsOiNBM0E0Qjk7fQoJLnN0M3tmaWxsOiMwMDAyM0I7fQoJLnN0NHtmaWxsOiNGRkZGRkY7fQoJLnN0NXtlbmFibGUtYmFja2dyb3VuZDpuZXcgICAgO30KPC9zdHlsZT4KPHRpdGxlPkxvZ29fc29tYnJlX2FpPC90aXRsZT4KPGcgaWQ9IlJlY3RhbmdsZV81NiI+Cgk8Zz4KCQk8cmVjdCB4PSIxOS4xIiB5PSIxOSIgdHJhbnNmb3JtPSJtYXRyaXgoMC41IC0wLjg2NiAwLjg2NiAwLjUgLTIzLjkyMjYgODkuNTQ2KSIgY2xhc3M9InN0MCIgd2lkdGg9IjkyLjkiIGhlaWdodD0iOTIuOSIvPgoJCTxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik04MywxMzAuM0wwLjgsODIuOUw0OC4yLDAuN2w4Mi4yLDQ3LjVMODMsMTMwLjN6IE0zLjUsODIuMWw3OC43LDQ1LjVsNDUuNS03OC43TDQ5LDMuNEwzLjUsODIuMXoiLz4KCTwvZz4KPC9nPgo8ZyBpZD0iUmVjdGFuZ2xlXzU2LTIiPgoJPGc+CgkJPHJlY3QgeD0iMTkiIHk9IjE5LjEiIHRyYW5zZm9ybT0ibWF0cml4KDAuODY2IC0wLjUgMC41IDAuODY2IC0yMy45Nzc3IDQxLjUyNykiIGNsYXNzPSJzdDAiIHdpZHRoPSI5Mi45IiBoZWlnaHQ9IjkyLjkiLz4KCQk8cGF0aCBjbGFzcz0ic3QyIiBkPSJNNDcuOSwxMzFMMCw0OEw4My4xLDBsNDgsODMuMUw0Ny45LDEzMXogTTQuMSw0OS4xbDQ1LDc3LjlsNzcuOS00NUw4Miw0LjFMNC4xLDQ5LjF6Ii8+Cgk8L2c+CjwvZz4KPGcgaWQ9IlJlY3RhbmdsZV81Ni0zIj4KCTxnPgoJCTxyZWN0IHg9IjE5LjEiIHk9IjE5IiBjbGFzcz0ic3QzIiB3aWR0aD0iOTIuOSIgaGVpZ2h0PSI5Mi45Ii8+CgkJPHBhdGggY2xhc3M9InN0NCIgZD0iTTExNC41LDExNC41SDE2LjZWMTYuNWg5Ny45VjExNC41eiBNMjEuNiwxMDkuNWg4Ny45VjIxLjVIMjEuNlYxMDkuNXoiLz4KCTwvZz4KPC9nPgo8ZyBpZD0iUmEiPgoJPGcgY2xhc3M9InN0NSI+CgkJPHBhdGggY2xhc3M9InN0NCIgZD0iTTU5LDg2LjdsLTYuNy0xOS4yaC0xLjJIMzguOXYxOS4yaC01LjZWMzguNWgxOC41YzMuNiwwLDYuMywwLjYsOC4xLDEuOGMxLjgsMS4yLDMsMi44LDMuNSw0LjgKCQkJYzAuNSwyLDAuOCw0LjYsMC44LDcuOGMwLDMuNS0wLjQsNi40LTEuMyw4LjdjLTAuOCwyLjMtMi42LDMuOS01LjMsNC44TDY1LDg2LjdINTl6IE01NS43LDYxLjZjMS4yLTAuNywyLTEuNywyLjQtMwoJCQljMC40LTEuMywwLjYtMy4yLDAuNi01LjZjMC0yLjUtMC4yLTQuMy0wLjUtNS42Yy0wLjMtMS4zLTEuMS0yLjItMi4zLTIuOWMtMS4yLTAuNy0zLTEtNS41LTFIMzguOXYxOS4xSDUwCgkJCUM1Mi41LDYyLjYsNTQuNCw2Mi4zLDU1LjcsNjEuNnoiLz4KCQk8cGF0aCBjbGFzcz0ic3Q0IiBkPSJNNzQuMyw4NWMtMS42LTEuNS0yLjUtNC4yLTIuNS04LjJjMC0yLjcsMC4zLTQuOCwwLjktNi4zYzAuNi0xLjUsMS42LTIuNiwzLTMuM2MxLjQtMC43LDMuNC0xLDYtMQoJCQljMS4zLDAsNS4xLDAuMSwxMS40LDAuM3YtMi40YzAtMi45LTAuMi01LTAuNy02LjJjLTAuNS0xLjItMS4zLTItMi42LTIuNGMtMS4yLTAuMy0zLjMtMC41LTYuMy0wLjVjLTEuMywwLTMsMC4xLTQuOSwwLjIKCQkJYy0yLDAuMS0zLjYsMC4zLTQuOCwwLjV2LTQuM2MzLjMtMC43LDcuMS0xLDExLjQtMWMzLjcsMCw2LjUsMC40LDguNCwxLjJjMS44LDAuOCwzLjEsMi4yLDMuOCw0LjFjMC43LDEuOSwxLDQuNywxLDguNHYyMi41aC00LjgKCQkJbC0wLjMtNWgtMC4zYy0wLjgsMi4yLTIuMiwzLjctNC4xLDQuNGMtMS45LDAuNy00LjEsMS4xLTYuNiwxLjFDNzguNiw4Ny4yLDc2LDg2LjUsNzQuMyw4NXogTTg5LjEsODJjMS4yLTAuNCwyLjItMS4yLDIuOC0yLjQKCQkJYzAuOS0xLjgsMS4zLTQuMywxLjMtNy4zdi0yaC0xMGMtMS43LDAtMywwLjItMy44LDAuNWMtMC44LDAuMy0xLjQsMC45LTEuNywxLjhjLTAuMywwLjktMC41LDIuMi0wLjUsNGMwLDEuOCwwLjIsMy4xLDAuNiwzLjkKCQkJYzAuNCwwLjgsMS4xLDEuNCwyLDEuOGMxLDAuMywyLjUsMC41LDQuNSwwLjVDODYuMiw4Mi42LDg3LjgsODIuNCw4OS4xLDgyeiIvPgoJPC9nPgo8L2c+Cjwvc3ZnPgo=",alt:"react-admin logo"}),Z.createElement("h1",null,"Welcome to React-admin"),Z.createElement("div",null,"Your application is properly configured.",Z.createElement("br",null),"Now you can add a <Resource> as child of <Admin>.")),Z.createElement("div",{style:xe.secondary},Z.createElement(wr,{href:"https://marmelab.com/react-admin/Readme.html",img:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSIyNHB4IgoJIGhlaWdodD0iMjRweCIgdmlld0JveD0iMCAwIDI0IDI0IiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAyNCAyNCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxnIGlkPSJCb3VuZGluZ19Cb3giPgoJPHJlY3QgZmlsbD0ibm9uZSIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ii8+CjwvZz4KPGcgaWQ9IkZsYXQiPgoJPGcgaWQ9InVpX3g1Rl9zcGVjX3g1Rl9oZWFkZXJfY29weV8yIj4KCTwvZz4KCTxnPgoJCTxwYXRoIGQ9Ik0yMSw1Yy0xLjExLTAuMzUtMi4zMy0wLjUtMy41LTAuNWMtMS45NSwwLTQuMDUsMC40LTUuNSwxLjVjLTEuNDUtMS4xLTMuNTUtMS41LTUuNS0xLjVTMi40NSw0LjksMSw2djE0LjY1CgkJCWMwLDAuMjUsMC4yNSwwLjUsMC41LDAuNWMwLjEsMCwwLjE1LTAuMDUsMC4yNS0wLjA1QzMuMSwyMC40NSw1LjA1LDIwLDYuNSwyMGMxLjk1LDAsNC4wNSwwLjQsNS41LDEuNWMxLjM1LTAuODUsMy44LTEuNSw1LjUtMS41CgkJCWMxLjY1LDAsMy4zNSwwLjMsNC43NSwxLjA1YzAuMSwwLjA1LDAuMTUsMC4wNSwwLjI1LDAuMDVjMC4yNSwwLDAuNS0wLjI1LDAuNS0wLjVWNkMyMi40LDUuNTUsMjEuNzUsNS4yNSwyMSw1eiBNMywxOC41VjcKCQkJYzEuMS0wLjM1LDIuMy0wLjUsMy41LTAuNWMxLjM0LDAsMy4xMywwLjQxLDQuNSwwLjk5djExLjVDOS42MywxOC40MSw3Ljg0LDE4LDYuNSwxOEM1LjMsMTgsNC4xLDE4LjE1LDMsMTguNXogTTIxLDE4LjUKCQkJYy0xLjEtMC4zNS0yLjMtMC41LTMuNS0wLjVjLTEuMzQsMC0zLjEzLDAuNDEtNC41LDAuOTlWNy40OWMxLjM3LTAuNTksMy4xNi0wLjk5LDQuNS0wLjk5YzEuMiwwLDIuNCwwLjE1LDMuNSwwLjVWMTguNXoiLz4KCQk8cGF0aCBvcGFjaXR5PSIwLjMiIGQ9Ik0xMSw3LjQ5QzkuNjMsNi45MSw3Ljg0LDYuNSw2LjUsNi41QzUuMyw2LjUsNC4xLDYuNjUsMyw3djExLjVDNC4xLDE4LjE1LDUuMywxOCw2LjUsMTgKCQkJYzEuMzQsMCwzLjEzLDAuNDEsNC41LDAuOTlWNy40OXoiLz4KCTwvZz4KCTxnPgoJCTxwYXRoIGQ9Ik0xNy41LDEwLjVjMC44OCwwLDEuNzMsMC4wOSwyLjUsMC4yNlY5LjI0QzE5LjIxLDkuMDksMTguMzYsOSwxNy41LDljLTEuMjgsMC0yLjQ2LDAuMTYtMy41LDAuNDd2MS41NwoJCQlDMTQuOTksMTAuNjksMTYuMTgsMTAuNSwxNy41LDEwLjV6Ii8+CgkJPHBhdGggZD0iTTE3LjUsMTMuMTZjMC44OCwwLDEuNzMsMC4wOSwyLjUsMC4yNlYxMS45Yy0wLjc5LTAuMTUtMS42NC0wLjI0LTIuNS0wLjI0Yy0xLjI4LDAtMi40NiwwLjE2LTMuNSwwLjQ3djEuNTcKCQkJQzE0Ljk5LDEzLjM2LDE2LjE4LDEzLjE2LDE3LjUsMTMuMTZ6Ii8+CgkJPHBhdGggZD0iTTE3LjUsMTUuODNjMC44OCwwLDEuNzMsMC4wOSwyLjUsMC4yNnYtMS41MmMtMC43OS0wLjE1LTEuNjQtMC4yNC0yLjUtMC4yNGMtMS4yOCwwLTIuNDYsMC4xNi0zLjUsMC40N3YxLjU3CgkJCUMxNC45OSwxNi4wMiwxNi4xOCwxNS44MywxNy41LDE1LjgzeiIvPgoJPC9nPgo8L2c+Cjwvc3ZnPgo=",label:"Documentation"}),Z.createElement(wr,{href:"https://github.com/marmelab/react-admin/tree/master/examples",img:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDI0djI0SDBWMHoiLz48cGF0aCBkPSJNOS40IDE2LjZMNC44IDEybDQuNi00LjZMOCA2bC02IDYgNiA2IDEuNC0xLjR6bTUuMiAwbDQuNi00LjYtNC42LTQuNkwxNiA2bDYgNi02IDYtMS40LTEuNHoiLz48L3N2Zz4=",label:"Examples"}),Z.createElement(wr,{href:"https://stackoverflow.com/questions/tagged/react-admin",img:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSIyNHB4IgoJIGhlaWdodD0iMjRweCIgdmlld0JveD0iMCAwIDI0IDI0IiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAyNCAyNCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxnIGlkPSJCb3VuZGluZ19Cb3giPgoJPHJlY3QgZmlsbD0ibm9uZSIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ii8+CjwvZz4KPGcgaWQ9IkZsYXQiPgoJPGcgaWQ9InVpX3g1Rl9zcGVjX3g1Rl9oZWFkZXJfY29weV8yIj4KCTwvZz4KCTxnPgoJCTxjaXJjbGUgb3BhY2l0eT0iMC4zIiBjeD0iOSIgY3k9IjgiIHI9IjIiLz4KCQk8cGF0aCBvcGFjaXR5PSIwLjMiIGQ9Ik05LDE1Yy0yLjcsMC01LjgsMS4yOS02LDIuMDFMMywxOGgxMnYtMUMxNC44LDE2LjI5LDExLjcsMTUsOSwxNXoiLz4KCQk8cGF0aCBkPSJNMTYuNjcsMTMuMTNDMTguMDQsMTQuMDYsMTksMTUuMzIsMTksMTd2M2g0di0zQzIzLDE0LjgyLDE5LjQzLDEzLjUzLDE2LjY3LDEzLjEzeiIvPgoJCTxwYXRoIGQ9Ik0xNSwxMmMyLjIxLDAsNC0xLjc5LDQtNGMwLTIuMjEtMS43OS00LTQtNGMtMC40NywwLTAuOTEsMC4xLTEuMzMsMC4yNEMxNC41LDUuMjcsMTUsNi41OCwxNSw4cy0wLjUsMi43My0xLjMzLDMuNzYKCQkJQzE0LjA5LDExLjksMTQuNTMsMTIsMTUsMTJ6Ii8+CgkJPHBhdGggZD0iTTksMTJjMi4yMSwwLDQtMS43OSw0LTRjMC0yLjIxLTEuNzktNC00LTRTNSw1Ljc5LDUsOEM1LDEwLjIxLDYuNzksMTIsOSwxMnogTTksNmMxLjEsMCwyLDAuOSwyLDJjMCwxLjEtMC45LDItMiwyCgkJCVM3LDkuMSw3LDhDNyw2LjksNy45LDYsOSw2eiIvPgoJCTxwYXRoIGQ9Ik05LDEzYy0yLjY3LDAtOCwxLjM0LTgsNHYzaDE2di0zQzE3LDE0LjM0LDExLjY3LDEzLDksMTN6IE0xNSwxOEgzbDAtMC45OUMzLjIsMTYuMjksNi4zLDE1LDksMTVzNS44LDEuMjksNiwyVjE4eiIvPgoJPC9nPgo8L2c+Cjwvc3ZnPgo=",label:"Community"}))),"default");var $e=n((e,t)=>{e&&process.env.NODE_ENV!=="production"&&console.warn(t)},"default");import{useRef as fi,useEffect as yi}from"react";function an(e,t){let r=fi();yi(()=>{if(r.current){let o=Object.keys(y(y({},r.current),t)),s={};o.forEach(a=>{r.current[a]!==t[a]&&(s[a]={from:r.current[a],to:t[a]})}),Object.keys(s).length&&console.log("[why-did-you-update]",e,s)}r.current=t})}n(an,"useWhyDidYouUpdate");var gi=n((e,t)=>{if(e)return e;switch(t){case!0:return"undoable";case!1:return"pessimistic";default:return"undoable"}},"getMutationMode");function Fg(e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}n(Fg,"mergeRefs");import*as Oe from"react";import{useCallback as Ri}from"react";var Pi=typeof window!="undefined"?Oe.useLayoutEffect:Oe.useEffect,cn=n((e,t)=>{let r=Oe.useRef(()=>{throw new Error("Cannot call an event handler while rendering.")});return Pi(()=>{r.current=e},[e,...t]),Ri((...o)=>r.current(...o),[])},"useEventCallback");import{useState as hi,useRef as Ut,useEffect as Ze,useCallback as xi}from"react";import Ci from"lodash/isEqual";function z(e){let[t,r]=hi(e),o=Ut(!1);Ze(()=>(o.current=!0,()=>{o.current=!1}),[]);let s=xi(a=>{if(o.current)return r(a)},[o,r]);return[t,s]}n(z,"useSafeSetState");function Ti(e){let t=Ut();return Ze(()=>{t.current=e}),t.current}n(Ti,"usePrevious");function Vg(e,t){let r=Ut();Ze(()=>(Ci(o,t)||(r.current=e()),r.current));let o=Ti(t)}n(Vg,"useDeepCompareEffect");function un(e=0,t=""){let[r,o]=z(!1);return Ze(()=>{o(!1);let s=setTimeout(()=>{o(!0)},e);return()=>{clearTimeout(s)}},[t,e,o]),r}n(un,"useTimeout");function ln(){let e=Ut(!0);return Ze(()=>(e.current=!0,()=>{e.current=!1}),[]),e}n(ln,"useIsMounted");var ue=n((e,t)=>{let{getItem:r,setItem:o,subscribe:s}=he(),[a,i]=Si(()=>r(e,t));Mi(()=>{let c=s(e,p=>{i(typeof p=="undefined"?t:p)});return()=>c()},[e,s,t]);let u=cn((c,p)=>{let m=typeof c=="function"?c(a):c;o(e,typeof m=="undefined"?typeof p=="undefined"?t:p:m)},[e,o,t,a]);return[a,u]},"useStore");import{useCallback as Li}from"react";var dn=n(e=>{let{removeItem:t}=he();return Li(r=>t(typeof r=="undefined"?e:r),[t,e])},"useRemoveFromStore");var pn=n(()=>{let{reset:e}=he();return e},"useResetStore");var Di=n(()=>{let e=ee(),t=pn(),r=vi(),o=fn(r),s=Ei(),a=fn(s),i=ae(),u=ie(`${i}/${Fe.loginUrl}`);bi(()=>{a.current=s,o.current=r},[s,r]);let c=mn((m={},f=u,x=!0)=>e.logout(m).then(C=>{if(C===!1){t();return}let b=(C||f).split("?"),S={pathname:b[0]},P={};return x&&a.current&&a.current.pathname&&(P={state:{nextPathname:a.current.pathname,nextSearch:a.current.search}}),b[1]&&(S.search=b[1]),o.current(S,P),t(),C}),[e,t,u]),p=mn(m=>(r({pathname:u},{state:{nextPathname:s&&s.pathname}}),t(),Promise.resolve()),[t,s,r,u]);return e?c:p},"useLogout"),Ee=Di;var Ue=n(()=>{let e=ee(),t=G(),r=Ee(),o=ae(),s=ie(`${o}/${Fe.loginUrl}`),a=wi((i={},u=!0,c=s,p=!1)=>e.checkAuth(i).catch(m=>{throw u&&(r({},m&&m.redirectTo?m.redirectTo:c),!(p||m&&m.message===!1)&&t(Ai(m,"ra.auth.auth_check_error"),{type:"warning"})),m}),[e,r,t,s]);return e?a:Ii},"useCheckAuth"),Ii=n(()=>Promise.resolve(),"checkAuthWithoutAuthProvider"),Ai=n((e,t)=>typeof e=="string"?e:typeof e=="undefined"||!e.message?t:e.message,"getErrorMessage");var Ni={},Oi=n((e=Ni)=>{let[t,r]=z({isLoading:!0,authenticated:!0}),o=Ue();return Fi(()=>{o(e,!1).then(()=>r({isLoading:!1,authenticated:!0})).catch(()=>r({isLoading:!1,authenticated:!1}))},[o,e,r]),t},"useAuthState"),Ar=Oi;import{useEffect as Vi}from"react";import{useCallback as Ui}from"react";var ki=n(()=>Promise.resolve([]),"getPermissionsWithoutProvider"),ji=n(()=>{let e=ee(),t=Ui((r={})=>e.getPermissions(r),[e]);return e?t:ki},"useGetPermissions"),Be=ji;var Gi={},Qi=n((e=Gi)=>{let[t,r]=z({isLoading:!0}),o=Be();return Vi(()=>{o(e).then(s=>{r({isLoading:!1,permissions:s})}).catch(s=>{r({isLoading:!1,error:s})})},[o,e,r]),t},"usePermissions"),Fr=Qi;import{useEffect as _i}from"react";import zi from"lodash/isEqual";var Hi={},yn={"{}":void 0},Wi=n((e=Hi)=>{let t=JSON.stringify(e),[r,o]=z({permissions:yn[t]}),s=Be();return _i(()=>{s(e).then(a=>{zi(a,r.permissions)||(yn[t]=a,o({permissions:a}))}).catch(a=>{o({error:a})})},[s,t]),r},"usePermissionsOptimized"),Nr=Wi;import{Children as $i,createElement as Zi}from"react";import{useEffect as Yi}from"react";var re=n((e={})=>{let{enabled:t=!0,params:r=Ji}=e,o=Ue();Yi(()=>{t&&o(r).catch(()=>{})},[o,t,r])},"useAuthenticated"),Ji={};var gn=n(e=>$i.count(e)===0,"isEmptyChildren"),Bi=n(e=>{let c=e,{authParams:t,children:r,render:o,component:s,staticContext:a}=c,i=F(c,["authParams","children","render","component","staticContext"]);$e(o&&r&&!gn(r)||o&&s||s&&r&&!gn(r),"You should only use one of the `component`, `render` and `children` props in <WithPermissions>"),re(t);let{permissions:u}=Nr(t);if(s)return Zi(s,y({permissions:u},i));if(o)return o(y({permissions:u},i));if(r)return r(y({permissions:u},i))},"WithPermissions"),Or=Bi;import{useCallback as Rn}from"react";import{useLocation as qi,useNavigate as Ki}from"react-router-dom";var Xi=n(()=>{let e=ee(),r=qi().state,o=Ki(),s=ae(),{resetNotifications:a}=It(),i=r&&r.nextPathname,u=r&&r.nextSearch,c=ie(`${s}/${Fe.afterLoginUrl}`),p=Rn((f={},x)=>e.login(f).then(C=>{a();let b=x||i+u||c;return o(b),C}),[e,o,i,u,a,c]),m=Rn((f,x)=>(a(),o(c),Promise.resolve()),[o,a,c]);return e?p:m},"useLogin"),ec=Xi;import{useEffect as tc}from"react";var Pn={id:"",fullName:null},rc=n(()=>{let[e,t]=z({isLoading:!0}),r=ee();return tc(()=>{r&&typeof r.getIdentity=="function"?n(async()=>{try{let s=await r.getIdentity();t({isLoading:!1,identity:s||Pn})}catch(s){t({isLoading:!1,error:s})}},"callAuthProvider")():t({isLoading:!1,identity:Pn})},[r,t]),e},"useGetIdentity"),oc=rc;import{useCallback as nc}from"react";import{useNavigate as sc}from"react-router";var Ur,ac=n(()=>{let e=ee(),t=Ee(),r=G(),o=sc(),s=nc((a,i)=>e.checkError(a).then(()=>!1).catch(async u=>{var f;let c=(f=u==null?void 0:u.logoutUser)!=null?f:!0;if(Ur)return!0;Ur=setTimeout(()=>{Ur=void 0},0),!(i||u&&u.message===!1||a&&a.message===!1)&&e.checkAuth({}).then(()=>{c?r(hn(u,"ra.notification.logged_out"),{type:"warning"}):r(hn(u,"ra.notification.not_authorized"),{type:"warning"})}).catch(()=>{});let m=u&&u.redirectTo?u.redirectTo:a&&a.redirectTo?a.redirectTo:void 0;return c?t({},m):o(m),!0}),[e,t,r,o]);return e?s:ic},"useLogoutIfAccessDenied"),ic=n(()=>Promise.resolve(!1),"logoutIfAccessDeniedWithoutProvider"),hn=n((e,t)=>typeof e=="string"?e:typeof e=="undefined"||!e.message?t:e.message,"getErrorMessage"),kr=ac;var xn="AUTH_LOGIN",Cn="AUTH_CHECK",Tn="AUTH_ERROR",Sn="AUTH_LOGOUT",Mn="AUTH_GET_PERMISSIONS";var jr=n(e=>{let t=n((...r)=>e.apply(null,r),"authProvider");return t.login=r=>e(xn,r),t.logout=r=>e(Sn,r),t.checkAuth=r=>e(Cn,r),t.checkError=r=>e(Tn,r),t.getPermissions=r=>e(Mn,r),t},"default");import*as kt from"react";var xP=n(e=>{let{authParams:t,children:r}=e;return re({params:t}),kt.createElement(kt.Fragment,null,r)},"Authenticated");var Vr="GET_LIST",Gr="GET_ONE",Qr="GET_MANY",_r="GET_MANY_REFERENCE",zr="CREATE",Hr="UPDATE",Wr="UPDATE_MANY",Yr="DELETE",Jr="DELETE_MANY",Ln=["getOne","create","update"],$r=["getList","getMany","getManyReference"],bn=[...$r,"updateMany","deleteMany"],En=["getList","getManyReference"],GP=n(e=>{switch(e){case Vr:return"getList";case Gr:return"getOne";case Qr:return"getMany";case _r:return"getManyReference";case zr:return"create";case Hr:return"update";case Wr:return"updateMany";case Yr:return"delete";case Jr:return"deleteMany";default:return e}},"sanitizeFetchType");var le=n(()=>Promise.resolve(),"defaultDataProvider");le.create=()=>Promise.resolve(null);le.delete=()=>Promise.resolve(null);le.deleteMany=()=>Promise.resolve(null);le.getList=()=>Promise.resolve(null);le.getMany=()=>Promise.resolve(null);le.getManyReference=()=>Promise.resolve(null);le.getOne=()=>Promise.resolve(null);le.update=()=>Promise.resolve(null);le.updateMany=()=>Promise.resolve(null);var vn={create:zr,delete:Yr,deleteMany:Jr,getList:Vr,getMany:Qr,getManyReference:_r,getOne:Gr,update:Hr,updateMany:Wr},cc=n(e=>new Proxy(le,{get(r,o){return(s,a)=>{if(Object.keys(vn).includes(o.toString())){let i=vn[o.toString()];return e(i,s,a)}return e(o.toString(),s,a)}},apply(r,o,s){return e.apply(e,s)}}),"convertLegacyDataProvider"),Zr=cc;import{createContext as uc}from"react";var Dn=uc(null);Dn.displayName="DataProviderContext";var qe=Dn;var Ke=class extends Error{constructor(t,r,o=null){super(t);this.message=t;this.status=r;this.body=o;Object.setPrototypeOf(this,Ke.prototype),this.name=this.constructor.name,typeof Error.captureStackTrace=="function"?Error.captureStackTrace(this,this.constructor):this.stack=new Error(t).stack,this.stack=new Error().stack}};n(Ke,"HttpError");var Br=Ke;var An={};ca(An,{createHeadersFromOptions:()=>wn,fetchJson:()=>dc,flattenObject:()=>In,queryParameters:()=>pc});import{stringify as lc}from"query-string";var wn=n(e=>{let t=e.headers||new Headers({Accept:"application/json"});return!t.has("Content-Type")&&!(e&&(!e.method||e.method==="GET"))&&!(e&&e.body&&e.body instanceof FormData)&&t.set("Content-Type","application/json"),e.user&&e.user.authenticated&&e.user.token&&t.set("Authorization",e.user.token),t},"createHeadersFromOptions"),dc=n((e,t={})=>{let r=wn(t);return fetch(e,D(y({},t),{headers:r})).then(o=>o.text().then(s=>({status:o.status,statusText:o.statusText,headers:o.headers,body:s}))).then(({status:o,statusText:s,headers:a,body:i})=>{let u;try{u=JSON.parse(i)}catch{}return o<200||o>=300?Promise.reject(new Br(u&&u.message||s,o,u)):Promise.resolve({status:o,headers:a,body:i,json:u})})},"fetchJson"),pc=lc,mc=n(e=>{if(!e)return!1;let t=Array.isArray(e),r=typeof Buffer!="undefined"&&Buffer.isBuffer(e),o=Object.prototype.toString.call(e)==="[object Object]",s=!!Object.keys(e).length;return!t&&!r&&o&&s},"isValidObject"),In=n((e,t=[])=>mc(e)?Object.assign({},...Object.keys(e).map(r=>In(e[r],t.concat([r])))):t.length?{[t.join(".")]:e}:e,"flattenObject");import fc from"eventemitter3";var ye=new fc;var ke={create:()=>Promise.resolve({data:null}),delete:()=>Promise.resolve({data:null}),deleteMany:()=>Promise.resolve({data:[]}),getList:()=>Promise.resolve({data:[],total:0}),getMany:()=>Promise.resolve({data:[]}),getManyReference:()=>Promise.resolve({data:[],total:0}),getOne:()=>Promise.resolve({data:null}),update:()=>Promise.resolve({data:null}),updateMany:()=>Promise.resolve({data:[]})};var XP=n(e=>new Proxy(ke,{get:(t,r)=>(o,s)=>{if(!(typeof r=="symbol"||r==="then"))return e(o)[r](o,s)}}),"combineDataProviders");var th=n(e=>y({getList:()=>Promise.resolve({data:[],total:0}),getOne:()=>Promise.resolve({data:void 0}),getMany:()=>Promise.resolve({data:[]}),getManyReference:()=>Promise.resolve({data:[],total:0}),create:()=>Promise.resolve({data:void 0}),update:()=>Promise.resolve({data:void 0}),updateMany:()=>Promise.resolve({data:[]}),delete:()=>Promise.resolve({data:void 0}),deleteMany:()=>Promise.resolve({data:[]})},e),"testDataProvider");import{useContext as gc,useMemo as Rc}from"react";function yc(e,t,r=console.error){if(!e)throw r(`The dataProvider returned an empty response for '${t}'.`),new Error("ra.notification.data_provider_error");if(!e.hasOwnProperty("data"))throw r(`The response to '${t}' must be like { data: ... }, but the received response does not have a 'data' key. The dataProvider is probably wrong for '${t}'.`),new Error("ra.notification.data_provider_error");if(bn.includes(t)&&!Array.isArray(e.data))throw r(`The response to '${t}' must be like { data : [...] }, but the received data is not an array. The dataProvider is probably wrong for '${t}'`),new Error("ra.notification.data_provider_error");if($r.includes(t)&&Array.isArray(e.data)&&e.data.length>0&&!e.data[0].hasOwnProperty("id"))throw r(`The response to '${t}' must be like { data : [{ id: 123, ...}, ...] }, but the received data items do not have an 'id' key. The dataProvider is probably wrong for '${t}'`),new Error("ra.notification.data_provider_error");if(Ln.includes(t)&&!e.data.hasOwnProperty("id"))throw r(`The response to '${t}' must be like { data: { id: 123, ... } }, but the received data does not have an 'id' key. The dataProvider is probably wrong for '${t}'`),new Error("ra.notification.data_provider_error");if(En.includes(t)&&!e.hasOwnProperty("total")&&!e.hasOwnProperty("pageInfo"))throw r(`The response to '${t}' must be like  { data: [...], total: 123 }, but the received response does not have a 'total' key. The dataProvider is probably wrong for '${t}'`),new Error("ra.notification.data_provider_error")}n(yc,"validateResponseFormat");var Fn=yc;var W=n(()=>{let e=gc(qe)||ke,t=kr();return Rc(()=>new Proxy(e,{get:(o,s)=>{if(!(typeof s=="symbol"||s==="then"))return(...a)=>{let i=s.toString();if(typeof e[i]!="function")throw new Error(`Unknown dataProvider function: ${i}`);try{return e[i].apply(e,a).then(u=>(process.env.NODE_ENV!=="production"&&Fn(u,i),u)).catch(u=>(process.env.NODE_ENV!=="production"&&console.error(u),t(u).then(c=>{if(!c)throw u})))}catch(u){throw process.env.NODE_ENV!=="production"&&console.error(u),new Error("The dataProvider threw an error. It should return a rejected Promise instead.")}}}}),[e,t])},"useDataProvider");import{useEffect as Pc,useState as hc}from"react";import{useQueryClient as xc,QueryObserver as Cc}from"react-query";var mh=n((e,t={})=>{let{enabled:r=!0}=t,o=xc(),[s,a]=hc(()=>r?o.getQueryData(e)!==void 0:!1);return Pc(()=>{if(!!r&&o.getQueryData(e)===void 0){let u=new Cc(o,{queryKey:e}).subscribe(c=>{a(!c.isLoading),u()});return u}},[r,e,o]),s},"useIsDataLoaded");import Xe from"react";import{notifyManager as Nn,useQueryClient as Tc}from"react-query";var Rh=n(()=>{let e=Tc(),t=Xe.useRef(!1),r=Xe.useRef(e.isFetching()>0),o=Xe.useRef(e.isMutating()>0),[s,a]=Xe.useState(r.current||o.current);return Xe.useEffect(()=>{t.current=!0;let i=e.getQueryCache().subscribe(Nn.batchCalls(()=>{t.current&&(r.current=e.isFetching()>0,a(r.current||o.current))})),u=e.getMutationCache().subscribe(Nn.batchCalls(()=>{t.current&&(o.current=e.isMutating()>0,a(r.current||o.current))}));return()=>{t.current=!1,i(),u()}},[e]),s},"useLoading");import{useCallback as Sc}from"react";import{useQueryClient as Mc}from"react-query";var jt=n(()=>{let e=Mc();return Sc(()=>{e.invalidateQueries()},[e])},"useRefresh");import{useQuery as Lc}from"react-query";var Vt=n((e,{id:t,meta:r},o)=>{let s=W();return Lc([e,"getOne",{id:String(t),meta:r}],()=>s.getOne(e,{id:t,meta:r}).then(({data:a})=>a),o)},"useGetOne");import{useQuery as bc,useQueryClient as Ec}from"react-query";var je=n((e,t={},r)=>{var m,f,x;let{pagination:o={page:1,perPage:25},sort:s={field:"id",order:"DESC"},filter:a={},meta:i}=t,u=W(),c=Ec(),p=bc([e,"getList",{pagination:o,sort:s,filter:a,meta:i}],()=>u.getList(e,{pagination:o,sort:s,filter:a,meta:i}).then(({data:C,total:b,pageInfo:S})=>({data:C,total:b,pageInfo:S})),y({onSuccess:({data:C})=>{C.forEach(b=>{c.setQueryData([e,"getOne",{id:String(b.id),meta:i}],S=>S!=null?S:b)})}},r));return p.data?D(y({},p),{data:(m=p.data)==null?void 0:m.data,total:(f=p.data)==null?void 0:f.total,pageInfo:(x=p.data)==null?void 0:x.pageInfo}):p},"useGetList");import{useQuery as vc,useQueryClient as Dc,hashQueryKey as wc}from"react-query";var Uh=n((e,t={},r)=>{let{ids:o,meta:s}=t,a=W(),i=Dc(),u=i.getQueryCache();return vc([e,"getMany",{ids:o.map(c=>String(c)),meta:s}],()=>!o||o.length===0?Promise.resolve([]):a.getMany(e,{ids:o,meta:s}).then(({data:c})=>c),y({placeholderData:()=>{let c=o.map(p=>{var f,x;let m=wc([e,"getOne",{id:String(p),meta:s}]);return(x=(f=u.get(m))==null?void 0:f.state)==null?void 0:x.data});if(!c.some(p=>p===void 0))return c},onSuccess:c=>{c.forEach(p=>{i.setQueryData([e,"getOne",{id:String(p.id),meta:s}],m=>m!=null?m:p)})},retry:!1},r))},"useGetMany");import{useMemo as Ic}from"react";import{useQueryClient as Ac,useQuery as Fc,hashQueryKey as Nc}from"react-query";import Oc from"lodash/union";var Ve=n((e,t,r={})=>{let o=W(),s=Ac(),a=s.getQueryCache(),{ids:i,meta:u}=t,c=Ic(()=>{let p=i.map(m=>{var x,C;let f=Nc([e,"getOne",{id:String(m),meta:u}]);return(C=(x=a.get(f))==null?void 0:x.state)==null?void 0:C.data});if(!p.some(m=>m===void 0))return p},[i,a,e,u]);return Fc([e,"getMany",{ids:i.map(p=>String(p)),meta:u}],()=>new Promise((p,m)=>!i||i.length===0?p([]):kc({resource:e,ids:i,meta:u,resolve:p,reject:m,dataProvider:o,queryClient:s})),y({placeholderData:c,onSuccess:p=>{p.forEach(m=>{s.setQueryData([e,"getOne",{id:String(m.id),meta:u}],f=>f!=null?f:m)})},retry:!1},r))},"useGetManyAggregate"),Uc=n(e=>{let t=[],r=null;return o=>{t.push(o),r&&clearTimeout(r),r=setTimeout(()=>{r=null,e([...t]),t=[]},0)}},"batch"),kc=Uc(e=>{let t=e[0].dataProvider,r=e[0].queryClient,o=e.reduce((s,a)=>(s[a.resource]||(s[a.resource]=[]),s[a.resource].push(a),s),{});Object.keys(o).forEach(s=>{let a=o[s],i=a.reduce((c,{ids:p})=>Oc(c,p),[]).filter(c=>c!=null&&c!==""),u=a.reduce((c,{meta:p})=>p||c,void 0);if(i.length===0){a.forEach(({resolve:c})=>{c([])});return}if(a.find(({ids:c})=>JSON.stringify(c)===JSON.stringify(i))){let{dataProvider:c,resource:p,ids:m,meta:f,resolve:x,reject:C}=a[0];c.getMany(p,{ids:m,meta:f}).then(({data:b})=>b).then(x,C);return}r.fetchQuery([s,"getMany",{ids:i.map(c=>String(c)),meta:u}],()=>t.getMany(s,{ids:i,meta:u}).then(({data:c})=>c)).then(c=>{a.forEach(({ids:p,resolve:m})=>{m(c.filter(f=>p.includes(f.id)))})}).catch(c=>a.forEach(({reject:p})=>p(c)))})});import{useQuery as jc,useQueryClient as Vc}from"react-query";var Gt=n((e,t={},r)=>{var x,C,b;let{target:o,id:s,pagination:a={page:1,perPage:25},sort:i={field:"id",order:"DESC"},filter:u={},meta:c}=t,p=W(),m=Vc(),f=jc([e,"getManyReference",{target:o,id:s,pagination:a,sort:i,filter:u,meta:c}],()=>p.getManyReference(e,{target:o,id:s,pagination:a,sort:i,filter:u,meta:c}).then(({data:S,total:P,pageInfo:g})=>({data:S,total:P,pageInfo:g})),y({onSuccess:({data:S})=>{S.forEach(P=>{m.setQueryData([e,"getOne",{id:String(P.id),meta:c}],g=>g!=null?g:P)})}},r));return f.data?D(y({},f),{data:(x=f.data)==null?void 0:x.data,total:(C=f.data)==null?void 0:C.total,pageInfo:(b=f.data)==null?void 0:b.pageInfo}):f},"useGetManyReference");import{useRef as Gc}from"react";import{useMutation as Qc,useQueryClient as _c}from"react-query";var On=n((e,t={},r={})=>{let o=W(),s=_c(),a=Gc(t),i=Qc(({resource:c=e,data:p=a.current.data,meta:m=a.current.meta}={})=>o.create(c,{data:p,meta:m}).then(({data:f})=>f),D(y({},r),{onSuccess:(c,p={},m)=>{let{resource:f=e}=p;s.setQueryData([f,"getOne",{id:String(c.id)}],c),r.onSuccess&&r.onSuccess(c,p,m)}}));return[n((c=e,p={},m={})=>{let C=m,{returnPromise:f}=C,x=F(C,["returnPromise"]);if(f)return i.mutateAsync(y({resource:c},p),m);i.mutate(y({resource:c},p),x)},"create"),i]},"useCreate");import{useRef as qr}from"react";import{useMutation as zc,useQueryClient as Hc}from"react-query";var Un=n((e,t={},r={})=>{let o=W(),s=Hc(),{id:a,data:i,meta:u}=t,P=r,{mutationMode:c="pessimistic"}=P,p=F(P,["mutationMode"]),m=qr(c),f=qr(t),x=qr([]),C=n(({resource:g,id:R,data:M})=>{let T=Date.now(),h=m.current==="undoable"?T+5*1e3:T,E=n(L=>{if(!L)return;let v=L.findIndex(I=>I.id==R);return v===-1?L:[...L.slice(0,v),y(y({},L[v]),M),...L.slice(v+1)]},"updateColl");s.setQueryData([g,"getOne",{id:String(R),meta:u}],L=>y(y({},L),M),{updatedAt:h}),s.setQueriesData([g,"getList"],L=>L&&L.data?{data:E(L.data),total:L.total}:L,{updatedAt:h}),s.setQueriesData([g,"getMany"],L=>L&&L.length>0?E(L):L,{updatedAt:h}),s.setQueriesData([g,"getManyReference"],L=>L&&L.data?{data:E(L.data),total:L.total}:L,{updatedAt:h})},"updateCache"),b=zc(({resource:g=e,id:R=f.current.id,data:M=f.current.data,meta:T=f.current.meta,previousData:h=f.current.previousData}={})=>o.update(g,{id:R,data:M,previousData:h,meta:T}).then(({data:E})=>E),D(y({},p),{onMutate:async g=>{if(p.onMutate){let R=await p.onMutate(g)||{};return y({snapshot:x.current},R)}else return{snapshot:x.current}},onError:(g,R={},M)=>{if((m.current==="optimistic"||m.current==="undoable")&&M.snapshot.forEach(([T,h])=>{s.setQueryData(T,h)}),p.onError)return p.onError(g,R,M)},onSuccess:(g,R={},M)=>{if(m.current==="pessimistic"){let{resource:T=e,id:h=a}=R;C({resource:T,id:h,data:g}),p.onSuccess&&p.onSuccess(g,R,M)}},onSettled:(g,R,M={},T)=>{if((m.current==="optimistic"||m.current==="undoable")&&T.snapshot.forEach(([h])=>{s.invalidateQueries(h)}),p.onSettled)return p.onSettled(g,R,M,T)}}));return[n(async(g=e,R={},M={})=>{let{mutationMode:T,returnPromise:h,onSuccess:E,onSettled:L,onError:v}=M;if(f.current=t,T&&(m.current=T),h&&m.current!=="pessimistic"&&console.warn("The returnPromise parameter can only be used if the mutationMode is set to pessimistic"),m.current==="pessimistic")return h?b.mutateAsync(y({resource:g},R),{onSuccess:E,onSettled:L,onError:v}):b.mutate(y({resource:g},R),{onSuccess:E,onSettled:L,onError:v});let{id:I=a,data:N=i,meta:A=u}=R,w=s.getQueryData([g,"getOne",{id:String(I),meta:A}]),O=[[g,"getOne",{id:String(I),meta:A}],[g,"getList"],[g,"getMany"],[g,"getManyReference"]];if(x.current=O.reduce((k,$)=>k.concat(s.getQueriesData($)),[]),await Promise.all(x.current.map(([k])=>s.cancelQueries(k))),C({resource:g,id:I,data:N}),E&&setTimeout(()=>E(w,y({resource:g},R),{snapshot:x.current}),0),p.onSuccess&&setTimeout(()=>p.onSuccess(w,y({resource:g},R),{snapshot:x.current}),0),m.current==="optimistic")return b.mutate(y({resource:g},R),{onSettled:L,onError:v});ye.once("end",({isUndo:k})=>{k?x.current.forEach(([$,q])=>{s.setQueryData($,q)}):b.mutate(y({resource:g},R),{onSettled:L,onError:v})})},"update"),b]},"useUpdate");import{useRef as Kr}from"react";import{useMutation as Wc,useQueryClient as Yc}from"react-query";var xx=n((e,t={},r={})=>{let o=W(),s=Yc(),{ids:a,data:i,meta:u}=t,P=r,{mutationMode:c="pessimistic"}=P,p=F(P,["mutationMode"]),m=Kr(c),f=Kr(t),x=Kr([]),C=n(async({resource:g,ids:R,data:M,meta:T})=>{let h=m.current==="undoable"?Date.now()+1e3*5:Date.now(),E=n(L=>{if(!L)return;let v=[...L];return R.forEach(I=>{let N=L.findIndex(A=>A.id==I);N!==-1&&(v=[...v.slice(0,N),y(y({},v[N]),M),...v.slice(N+1)])}),v},"updateColl");R.forEach(L=>s.setQueryData([g,"getOne",{id:String(L),meta:T}],v=>y(y({},v),M),{updatedAt:h})),s.setQueriesData([g,"getList"],L=>L&&L.data?{data:E(L.data),total:L.total}:L,{updatedAt:h}),s.setQueriesData([g,"getMany"],L=>L&&L.length>0?E(L):L,{updatedAt:h}),s.setQueriesData([g,"getManyReference"],L=>L&&L.data?{data:E(L.data),total:L.total}:L,{updatedAt:h})},"updateCache"),b=Wc(({resource:g=e,ids:R=f.current.ids,data:M=f.current.data,meta:T=f.current.meta}={})=>o.updateMany(g,{ids:R,data:M,meta:T}).then(({data:h})=>h),D(y({},p),{onMutate:async g=>{if(p.onMutate){let R=await p.onMutate(g)||{};return y({snapshot:x.current},R)}else return{snapshot:x.current}},onError:(g,R={},M)=>{if((m.current==="optimistic"||m.current==="undoable")&&M.snapshot.forEach(([T,h])=>{s.setQueryData(T,h)}),p.onError)return p.onError(g,R,M)},onSuccess:(g,R={},M)=>{if(m.current==="pessimistic"){let{resource:T=e,ids:h=a,meta:E=u}=R;C({resource:T,ids:h,data:g,meta:E}),p.onSuccess&&p.onSuccess(g,R,M)}},onSettled:(g,R,M={},T)=>{if((m.current==="optimistic"||m.current==="undoable")&&T.snapshot.forEach(([h])=>{s.invalidateQueries(h)}),p.onSettled)return p.onSettled(g,R,M,T)}}));return[n(async(g=e,R={},M={})=>{let{mutationMode:T,onSuccess:h,onSettled:E,onError:L}=M;if(f.current=t,T&&(m.current=T),m.current==="pessimistic")return b.mutate(y({resource:g},R),{onSuccess:h,onSettled:E,onError:L});let{ids:v=a,data:I=i,meta:N=u}=R,A=[[g,"getOne"],[g,"getList"],[g,"getMany"],[g,"getManyReference"]];if(x.current=A.reduce((w,O)=>w.concat(s.getQueriesData(O)),[]),await Promise.all(x.current.map(([w])=>s.cancelQueries(w))),await C({resource:g,ids:v,data:I,meta:N}),h&&setTimeout(()=>h(v,y({resource:g},R),{snapshot:x.current}),0),p.onSuccess&&setTimeout(()=>p.onSuccess(v,y({resource:g},R),{snapshot:x.current}),0),m.current==="optimistic")return b.mutate(y({resource:g},R),{onSettled:E,onError:L});ye.once("end",({isUndo:w})=>{w?x.current.forEach(([O,k])=>{s.setQueryData(O,k)}):b.mutate(y({resource:g},R),{onSettled:E,onError:L})})},"updateMany"),b]},"useUpdateMany");import{useRef as Xr}from"react";import{useMutation as Jc,useQueryClient as $c}from"react-query";var Qt=n((e,t={},r={})=>{let o=W(),s=$c(),{id:a,previousData:i}=t,S=r,{mutationMode:u="pessimistic"}=S,c=F(S,["mutationMode"]),p=Xr(u),m=Xr(t),f=Xr([]),x=n(({resource:P,id:g})=>{let R=Date.now(),M=p.current==="undoable"?R+5*1e3:R,T=n(h=>{if(!h)return;let E=h.findIndex(L=>L.id==g);return E===-1?h:[...h.slice(0,E),...h.slice(E+1)]},"updateColl");s.setQueriesData([P,"getList"],h=>{if(!h||!h.data)return h;let E=T(h.data);return E.length<h.data.length?{data:E,total:h.total-1}:h},{updatedAt:M}),s.setQueriesData([P,"getMany"],h=>h&&h.length>0?T(h):h,{updatedAt:M}),s.setQueriesData([P,"getManyReference"],h=>{if(!h||!h.data)return h;let E=T(h.data);return E.length<h.data.length?{data:E,total:h.total-1}:h},{updatedAt:M})},"updateCache"),C=Jc(({resource:P=e,id:g=m.current.id,previousData:R=m.current.previousData,meta:M=m.current.meta}={})=>o.delete(P,{id:g,previousData:R,meta:M}).then(({data:T})=>T),D(y({},c),{onMutate:async P=>{if(c.onMutate){let g=await c.onMutate(P)||{};return y({snapshot:f.current},g)}else return{snapshot:f.current}},onError:(P,g={},R)=>{if((p.current==="optimistic"||p.current==="undoable")&&R.snapshot.forEach(([M,T])=>{s.setQueryData(M,T)}),c.onError)return c.onError(P,g,R)},onSuccess:(P,g={},R)=>{if(p.current==="pessimistic"){let{resource:M=e,id:T=a}=g;x({resource:M,id:T}),c.onSuccess&&c.onSuccess(P,g,R)}},onSettled:(P,g,R={},M)=>{if((p.current==="optimistic"||p.current==="undoable")&&M.snapshot.forEach(([T])=>{s.invalidateQueries(T)}),c.onSettled)return c.onSettled(P,g,R,M)}}));return[n(async(P=e,g={},R={})=>{let{mutationMode:M,onSuccess:T,onSettled:h,onError:E}=R;if(m.current=t,M&&(p.current=M),p.current==="pessimistic")return C.mutate(y({resource:P},g),{onSuccess:T,onSettled:h,onError:E});let{id:L=a,previousData:v=i}=g,I=[[P,"getList"],[P,"getMany"],[P,"getManyReference"]];if(f.current=I.reduce((N,A)=>N.concat(s.getQueriesData(A)),[]),await Promise.all(f.current.map(([N])=>s.cancelQueries(N))),x({resource:P,id:L}),T&&setTimeout(()=>T(v,y({resource:P},g),{snapshot:f.current}),0),c.onSuccess&&setTimeout(()=>c.onSuccess(v,y({resource:P},g),{snapshot:f.current}),0),p.current==="optimistic")return C.mutate(y({resource:P},g),{onSettled:h,onError:E});ye.once("end",({isUndo:N})=>{N?f.current.forEach(([A,w])=>{s.setQueryData(A,w)}):C.mutate(y({resource:P},g),{onSettled:h,onError:E})})},"mutate"),C]},"useDelete");import{useRef as eo}from"react";import{useMutation as Zc,useQueryClient as Bc}from"react-query";var Vx=n((e,t={},r={})=>{let o=W(),s=Bc(),{ids:a}=t,b=r,{mutationMode:i="pessimistic"}=b,u=F(b,["mutationMode"]),c=eo(i),p=eo({}),m=eo([]),f=n(({resource:S,ids:P})=>{let g=Date.now(),R=c.current==="undoable"?g+5*1e3:g,M=n(T=>{if(!T)return;let h=[...T];return P.forEach(E=>{let L=h.findIndex(v=>v.id==E);L!==-1&&(h=[...h.slice(0,L),...h.slice(L+1)])}),h},"updateColl");s.setQueriesData([S,"getList"],T=>{if(!T||!T.data)return T;let h=M(T.data);return h.length<T.data.length?{data:h,total:T.total-(T.data.length-h.length)}:T},{updatedAt:R}),s.setQueriesData([S,"getMany"],T=>T&&T.length>0?M(T):T,{updatedAt:R}),s.setQueriesData([S,"getManyReference"],T=>{if(!T||!T.data)return T;let h=M(T.data);return h.length<T.data.length?{data:h,total:T.total-(T.data.length-h.length)}:T},{updatedAt:R})},"updateCache"),x=Zc(({resource:S=e,ids:P=p.current.ids,meta:g=p.current.meta}={})=>o.deleteMany(S,{ids:P,meta:g}).then(({data:R})=>R),D(y({},u),{onMutate:async S=>{if(u.onMutate){let P=await u.onMutate(S)||{};return y({snapshot:m.current},P)}else return{snapshot:m.current}},onError:(S,P={},g)=>{if((c.current==="optimistic"||c.current==="undoable")&&g.snapshot.forEach(([R,M])=>{s.setQueryData(R,M)}),u.onError)return u.onError(S,P,g)},onSuccess:(S,P={},g)=>{if(c.current==="pessimistic"){let{resource:R=e,ids:M=a}=P;f({resource:R,ids:M}),u.onSuccess&&u.onSuccess(S,P,g)}},onSettled:(S,P,g={},R)=>{if((c.current==="optimistic"||c.current==="undoable")&&R.snapshot.forEach(([M])=>{s.invalidateQueries(M)}),u.onSettled)return u.onSettled(S,P,g,R)}}));return[n(async(S=e,P={},g={})=>{let{mutationMode:R,onSuccess:M,onSettled:T,onError:h}=g;if(p.current=t,R&&(c.current=R),c.current==="pessimistic")return x.mutate(y({resource:S},P),{onSuccess:M,onSettled:T,onError:h});let{ids:E=a}=P,L=[[S,"getList"],[S,"getMany"],[S,"getManyReference"]];if(m.current=L.reduce((v,I)=>v.concat(s.getQueriesData(I)),[]),await Promise.all(m.current.map(([v])=>s.cancelQueries(v))),f({resource:S,ids:E}),M&&setTimeout(()=>M(E,y({resource:S},P),{snapshot:m.current}),0),u.onSuccess&&setTimeout(()=>u.onSuccess(E,y({resource:S},P),{snapshot:m.current}),0),c.current==="optimistic")return x.mutate(y({resource:S},P),{onSettled:T,onError:h});ye.once("end",({isUndo:v})=>{v?m.current.forEach(([I,N])=>{s.setQueryData(I,N)}):x.mutate(y({resource:S},P),{onSettled:T,onError:h})})},"mutate"),x]},"useDeleteMany");import*as kn from"react";import{createContext as qc,useCallback as jn,useState as Kc,useMemo as Xc}from"react";import eu from"lodash/isEqual";var to=qc({definitions:{},register:()=>{},unregister:()=>{}}),Vn=n(({definitions:e={},children:t})=>{let[r,o]=Kc(e),s=jn(u=>{o(c=>eu(c[u.name],u)?c:D(y({},c),{[u.name]:u}))},[]),a=jn(u=>{o(c=>{var f;let x=c,{[f=u.name]:p}=x;return F(x,[Re(f)])})},[]),i=Xc(()=>({definitions:r,register:s,unregister:a}),[r]);return kn.createElement(to.Provider,{value:i},t)},"ResourceDefinitionContextProvider");var oo=n(e=>{let{authProvider:t,basename:r,dataProvider:o,i18nProvider:s,store:a,children:i,history:u,queryClient:c}=e;if(!o)throw new Error(`Missing dataProvider prop.
React-admin requires a valid dataProvider function to work.`);let p=ro(()=>c||new ru,[c]),m=ro(()=>t instanceof Function?jr(t):t,[t]),f=ro(()=>o instanceof Function?Zr(o):o,[o]);return ge.createElement(We.Provider,{value:m},ge.createElement(qe.Provider,{value:f},ge.createElement(Yo,{value:a},ge.createElement(tu,{client:p},ge.createElement(Go,{history:u,basename:r},ge.createElement(At,{value:s},ge.createElement($o,null,ge.createElement(Vn,null,i))))))))},"CoreAdminContext");oo.defaultProps={dataProvider:ke,store:Et()};import*as Ce from"react";import{useEffect as Ru,isValidElement as Pu,createElement as hu}from"react";import{Routes as xu,Route as Hn}from"react-router-dom";import*as J from"react";import{useState as pu,useEffect as mu,Children as fu}from"react";import{Navigate as yu,Route as Ge,Routes as no}from"react-router-dom";import*as Gn from"react";import{Children as nu,Fragment as su,useCallback as au,useEffect as Qn,useState as iu}from"react";import{useContext as ou}from"react";var _t=n(()=>ou(to),"useResourceDefinitionContext");var _n=n(e=>{let{permissions:t}=Fr(),[r,o]=cu(e,t);return lu(r.resources,t),{customRoutesWithLayout:r.customRoutesWithLayout,customRoutesWithoutLayout:r.customRoutesWithoutLayout,status:o,resources:r.resources}},"useConfigureAdminRouterFromChildren"),cu=n((e,t)=>{let r=Ee(),{authenticated:o}=Ar(),[s,a,i]=uu(et(e)),[u,c]=z(()=>du(y({children:e},s)));return Qn(()=>{let p=n(async f=>{try{let x=f(t);x.then?x.then(C=>{i(et(C)),c("ready")}):(i(et(x)),c("ready"))}catch(x){console.error(x),r()}},"resolveChildFunction");n(async()=>{let f=zn(e),x=et(e);a(x),c(f?"loading":x.resources.length>0?"ready":"empty"),f&&p(f)},"updateFromChildren")()},[o,e,r,i,t,a,c]),[s,u]},"useRoutesAndResourcesFromChildren"),uu=n(e=>{let[t,r]=iu(e),o=au(s=>{r(a=>({customRoutesWithLayout:a.customRoutesWithLayout.concat(s.customRoutesWithLayout),customRoutesWithoutLayout:a.customRoutesWithoutLayout.concat(s.customRoutesWithoutLayout),resources:a.resources.concat(s.resources)}))},[]);return[t,r,o]},"useRoutesAndResourcesState"),lu=n((e,t)=>{let{register:r,unregister:o}=_t();Qn(()=>(e.forEach(s=>{if(typeof s.type.registerResource=="function"){let a=s.type.registerResource(s.props,t);r(a)}else throw new Error("When using a custom Resource element, it must have a static registerResource method accepting its props and returning a ResourceDefinition")}),()=>{e.forEach(s=>{if(typeof s.type.registerResource=="function"){let a=s.type.registerResource(s.props,t);o(a)}else throw new Error("When using a custom Resource element, it must have a static registerResource method accepting its props and returning a ResourceDefinition")})}),[t,r,e,o])},"useRegisterResources"),du=n(({children:e,resources:t,customRoutesWithLayout:r,customRoutesWithoutLayout:o})=>zn(e)?"loading":t.length>0||r.length>0||o.length>0?"ready":"empty","getStatus"),zn=n(e=>{let r=(Array.isArray(e)?e:[e]).filter(o=>typeof o=="function");if(r.length>1)throw new Error("You can only provide one function child to AdminRouter");return r.length===0?null:r[0]},"getSingleChildFunction"),et=n(e=>{let t=[],r=[],o=[];return nu.forEach(e,s=>{if(!!Gn.isValidElement(s)){if(s.type===su){let a=et(s.props.children);t.push(...a.customRoutesWithLayout),r.push(...a.customRoutesWithoutLayout),o.push(...a.resources)}if(s.type.raName==="CustomRoutes"){let a=s;a.props.noLayout?r.push(a.props.children):t.push(a.props.children)}else s.type.raName==="Resource"&&o.push(s)}}),{customRoutesWithLayout:t,customRoutesWithoutLayout:r,resources:o}},"getRoutesAndResourceFromNodes");var so=n(e=>{let t=un(1e3);Qo();let r=Lt(),{customRoutesWithLayout:o,customRoutesWithoutLayout:s,status:a,resources:i}=_n(e.children),{layout:u,catchAll:c,dashboard:p,loading:m,menu:f,requireAuth:x,ready:C,title:b}=e,[S,P]=pu(!x),g=Ue();return mu(()=>{x&&g().then(()=>{P(!0)}).catch(()=>{})},[g,x]),a==="empty"?J.createElement(C,null):a==="loading"||!S?J.createElement(no,null,s,t?J.createElement(Ge,{path:"*",element:J.createElement(m,null)}):J.createElement(Ge,{path:"*",element:null})):J.createElement(no,null,s,J.createElement(Ge,{path:"/*",element:J.createElement("div",null,J.createElement(u,{dashboard:p,menu:f,title:b},J.createElement(no,null,o,fu.map(i,R=>J.createElement(Ge,{key:R.props.name,path:`${R.props.name}/*`,element:R})),J.createElement(Ge,{path:"/",element:p?J.createElement(Or,{authParams:gu,component:p}):i.length>0?J.createElement(yu,{to:r({resource:i[0].props.name,type:"list"})}):null}),J.createElement(Ge,{path:"*",element:J.createElement(c,{title:b})}))))}))},"CoreAdminRoutes");so.defaultProps={customRoutes:[]};var gu={route:"dashboard"};var Cu=n(({children:e})=>Ce.createElement(Ce.Fragment,null,e),"DefaultLayout"),Wn=n(e=>{let{catchAll:t=Yn,children:r,dashboard:o,disableTelemetry:s=!1,layout:a=Cu,loading:i=Yn,loginPage:u=!1,menu:c,ready:p=Ir,title:m="React Admin",requireAuth:f=!1}=e;return Ru(()=>{if(s||process.env.NODE_ENV!=="production"||typeof window=="undefined"||typeof window.location=="undefined"||typeof Image=="undefined")return;let x=new Image;x.src=`https://react-admin-telemetry.marmelab.com/react-admin-telemetry?domain=${window.location.hostname}`},[s]),Ce.createElement(xu,null,u!==!1&&u!==!0?Ce.createElement(Hn,{path:"/login",element:Tu(u)}):null,Ce.createElement(Hn,{path:"/*",element:Ce.createElement(so,{catchAll:t,dashboard:o,layout:a,loading:i,menu:c,requireAuth:f,ready:p,title:m},r)}))},"CoreAdminUI"),Tu=n(e=>Pu(e)?e:hu(e),"createOrGetElement"),Yn=n(()=>null,"Noop");var eT=n(e=>{let{authProvider:t,basename:r,catchAll:o,children:s,dashboard:a,dataProvider:i,disableTelemetry:u,history:c,i18nProvider:p,queryClient:m,layout:f,loading:x,loginPage:C,menu:b,ready:S,requireAuth:P,title:g="React Admin"}=e;return ao.createElement(oo,{authProvider:t,basename:r,dataProvider:i,i18nProvider:p,queryClient:m,history:c},ao.createElement(Wn,{layout:f,dashboard:a,disableTelemetry:u,menu:b,catchAll:o,title:g,loading:x,loginPage:C,requireAuth:P,ready:S},s))},"CoreAdmin");var Su=n(e=>null,"CustomRoutes");Su.raName="CustomRoutes";import*as ne from"react";import{isValidElement as Ht}from"react";import{Route as Wt,Routes as Mu}from"react-router-dom";import*as Jn from"react";var zt=n(({children:e,value:t})=>t?Jn.createElement(Ot.Provider,{value:t},e):e,"ResourceContextProvider");var $n=n(e=>{let{create:t,edit:r,list:o,name:s,show:a}=e;return ne.createElement(zt,{value:s},ne.createElement(Mu,null,t&&ne.createElement(Wt,{path:"create/*",element:Ht(t)?t:ne.createElement(t,null)}),a&&ne.createElement(Wt,{path:":id/show/*",element:Ht(a)?a:ne.createElement(a,null)}),r&&ne.createElement(Wt,{path:":id/*",element:Ht(r)?r:ne.createElement(r,null)}),o&&ne.createElement(Wt,{path:"/*",element:Ht(o)?o:ne.createElement(o,null)})))},"Resource");$n.raName="Resource";$n.registerResource=({create:e,edit:t,icon:r,list:o,name:s,options:a,show:i})=>({name:s,options:a,hasList:!!o,hasCreate:!!e,hasEdit:!!t,hasShow:!!i,icon:r});import io from"inflection";var Yt=n(()=>_t().definitions,"useResourceDefinitions");var Te=n(()=>{let e=Q(),t=Yt();return(r,o=2)=>{let s=t[r];return e(`resources.${r}.name`,{smart_count:o,_:s&&s.options&&s.options.label?e(s.options.label,{smart_count:o,_:s.options.label}):io.humanize(o>1?io.pluralize(r):io.singularize(r))})}},"useGetResourceLabel");import{useMemo as Lu}from"react";import bu from"lodash/defaults";var Zn=n(e=>{let t=H(e),r=Yt(),{hasCreate:o,hasEdit:s,hasList:a,hasShow:i}=e||{};return Lu(()=>bu({},{hasCreate:o,hasEdit:s,hasList:a,hasShow:i},r[t]),[t,r,o,s,a,i])},"useResourceDefinition");import Eu from"jsonexport/dist";var co=n((e,t)=>{let r=document.createElement("a");r.style.display="none",document.body.appendChild(r);let o=new Blob([e],{type:"text/csv;charset=utf-8"});window.navigator&&window.navigator.msSaveOrOpenBlob?window.navigator.msSaveOrOpenBlob(o,`${t}.csv`):(r.setAttribute("href",URL.createObjectURL(o)),r.setAttribute("download",`${t}.csv`),r.click())},"default");var vu=n((e,t,r,o)=>Eu(e,(s,a)=>co(a,o)),"defaultExporter"),tt=vu;import{createContext as Du}from"react";var Bn=Du(tt);Bn.displayName="ExporterContext";var wu=Bn;var Iu=n(e=>(t,r,o)=>e.getMany(o,{ids:Au(t,r)}).then(({data:s})=>s.reduce((a,i)=>(a[i.id]=i,a),{})),"fetchRelatedRecords"),Au=n((e,t)=>Array.from(new Set(e.filter(r=>r[t]!=null).map(r=>r[t]).reduce((r,o)=>r.concat(o),[]))),"getRelatedIds"),Fu=Iu;import*as rs from"react";import er from"inflection";var ve=n(e=>e.reduce((t,r)=>(Object.keys(r).forEach(o=>{if(t[o]||(t[o]=[]),r[o]!=null){let s=Array.isArray(r[o])?[r[o]]:r[o];t[o]=t[o].concat(s)}}),t),{}),"default");import{createElement as qn}from"react";var uo=class{constructor(t,r,o){this.type=t;this.props=r;this.children=o}getElement(t={}){if(!!this.isDefined())return this.children?qn(this.type.component,y(y({},this.props),t),this.children.length>0?this.children.map((r,o)=>r.getElement({key:o})):this.children.getElement()):qn(this.type.component,y(y({},this.props),t))}getProps(){return this.props}isDefined(){return!!this.type}getRepresentation(){if(!!this.isDefined())return this.type.representation?this.type.representation(this.props,this.children):`<${this.type.component.displayName||this.type.component.name} source="${this.props.source}" />`}};n(uo,"InferredElement");var _=uo;import{isMatch as Kn,isValid as Nu,parseISO as Ou}from"date-fns";var Uu=n(e=>!isNaN(parseFloat(e))&&isFinite(e),"isNumeric"),rt=n(e=>e.every(Uu),"valuesAreNumeric"),ku=n(e=>Number.isInteger(e)||!isNaN(parseInt(e)),"isInteger"),ot=n(e=>e.every(ku),"valuesAreInteger"),ju=n(e=>typeof e=="boolean","isBoolean"),Jt=n(e=>e.every(ju),"valuesAreBoolean");var Vu=n(e=>typeof e=="string","isString"),$t=n(e=>e.every(Vu),"valuesAreString"),Gu=/<([A-Z][A-Z0-9]*)\b[^>]*>(.*?)<\/\1>/i,Qu=n(e=>!e||Gu.test(e),"isHtml"),Zt=n(e=>e.every(Qu),"valuesAreHtml"),_u=/http(s*):\/\/.*/i,zu=n(e=>!e||_u.test(e),"isUrl"),Xn=n(e=>e.every(zu),"valuesAreUrl"),Hu=/http(s*):\/\/.*\.(jpeg|jpg|jfif|pjpeg|pjp|png|svg|gif|webp|apng|bmp|ico|cur|tif|tiff)/i,Wu=n(e=>!e||Hu.test(e),"isImageUrl"),es=n(e=>e.every(Wu),"valuesAreImageUrl"),Yu=/@{1}/,Ju=n(e=>!e||Yu.test(e),"isEmail"),ts=n(e=>e.every(Ju),"valuesAreEmail"),$u=n(e=>Array.isArray(e),"isArray"),Bt=n(e=>e.every($u),"valuesAreArray"),Zu=n(e=>!e||e instanceof Date,"isDate"),qt=n(e=>e.every(Zu),"valuesAreDate"),Bu=n(e=>!e||typeof e=="string"&&(Kn(e,"MM/dd/yyyy")||Kn(e,"MM/dd/yy")||Nu(Ou(e))),"isDateString"),Kt=n(e=>e.every(Bu),"valuesAreDateString"),nt=n(e=>Object.prototype.toString.call(e)==="[object Object]","isObject"),Xt=n(e=>e.every(nt),"valuesAreObject");var qu=n(()=>rs.createElement("span",null,";"),"DefaultComponent"),se={type:qu,representation:()=>"<DefaultComponent />"},Ku={array:se,boolean:se,date:se,email:se,id:se,number:se,reference:se,referenceArray:se,richText:se,string:se,url:se},te=n((e,t)=>typeof t[e]!="undefined","hasType"),lo=n((e,t=[],r=Ku)=>{if(e==="id"&&te("id",r))return new _(r.id,{source:e});if(e.substr(e.length-3)==="_id"&&te("reference",r)){let o=er.pluralize(e.substr(0,e.length-3));return r.reference&&new _(r.reference,{source:e,reference:o},new _(r.referenceChild))}if(e.substr(e.length-2)==="Id"&&te("reference",r)){let o=er.pluralize(e.substr(0,e.length-2));return r.reference&&new _(r.reference,{source:e,reference:o},new _(r.referenceChild))}if(e.substr(e.length-4)==="_ids"&&te("referenceArray",r)){let o=er.pluralize(e.substr(0,e.length-4));return r.referenceArray&&new _(r.referenceArray,{source:e,reference:o},new _(r.referenceArrayChild))}if(e.substr(e.length-3)==="Ids"&&te("referenceArray",r)){let o=er.pluralize(e.substr(0,e.length-3));return r.referenceArray&&new _(r.referenceArray,{source:e,reference:o},new _(r.referenceArrayChild))}if(t.length===0)return new _(r.string,{source:e});if(Bt(t)){if(nt(t[0][0])&&te("array",r)){let o=ve(t.reduce((s,a)=>s.concat(a),[]));return r.array&&new _(r.array,{source:e},Object.keys(o).map(s=>lo(s,o[s],r)))}return new _(r.string,{source:e})}if(Jt(t)&&te("boolean",r))return new _(r.boolean,{source:e});if(qt(t)&&te("date",r))return new _(r.date,{source:e});if($t(t))return e==="email"&&te("email",r)?new _(r.email,{source:e}):e==="url"&&te("url",r)?new _(r.url,{source:e}):Kt(t)&&te("date",r)?new _(r.date,{source:e}):Zt(t)&&te("richText",r)?new _(r.richText,{source:e}):new _(r.string,{source:e});if((ot(t)||rt(t))&&te("number",r))return new _(r.number,{source:e});if(Xt(t)){let o=Object.keys(t[0]).shift(),s=t.map(a=>a[o]);return lo(`${e}.${o}`,s,r)}return new _(r.string,{source:e})},"inferElementFromValues"),os=lo;var Xu=n((e,t)=>{let r=ve(e);return Object.keys(r).reduce((o,s)=>o.concat(os(s,r[s],t)),[]).filter(o=>o.isDefined())},"default");import tr from"inflection";var BT=["array","boolean","date","email","id","image","number","reference","referenceChild","referenceArray","referenceArrayChild","richText","string","url","object"],ns=n((e,t=[])=>{if(e==="id")return{type:"id",props:{source:e}};if(e.substr(e.length-3)==="_id")return{type:"reference",props:{source:e,reference:tr.pluralize(e.substr(0,e.length-3))},children:{type:"referenceChild"}};if(e.substr(e.length-2)==="Id")return{type:"reference",props:{source:e,reference:tr.pluralize(e.substr(0,e.length-2))},children:{type:"referenceChild"}};if(e.substr(e.length-4)==="_ids")return{type:"referenceArray",props:{source:e,reference:tr.pluralize(e.substr(0,e.length-4))},children:{type:"referenceArrayChild"}};if(e.substr(e.length-3)==="Ids")return{type:"referenceArray",props:{source:e,reference:tr.pluralize(e.substr(0,e.length-3))},children:{type:"referenceArrayChild"}};if(t.length===0)return e==="email"?{type:"email",props:{source:e}}:e==="url"?{type:"url",props:{source:e}}:{type:"string",props:{source:e}};if(Bt(t)){if(nt(t[0][0])){let r=ve(t.reduce((o,s)=>o.concat(s),[]));return{type:"array",props:{source:e},children:Object.keys(r).map(o=>ns(o,r[o]))}}return{type:"string",props:{source:e}}}if(Jt(t))return{type:"boolean",props:{source:e}};if(qt(t))return{type:"date",props:{source:e}};if($t(t))return e==="email"||ts(t)?{type:"email",props:{source:e}}:e==="url"||Xn(t)?es(t)?{type:"image",props:{source:e}}:{type:"url",props:{source:e}}:Kt(t)?{type:"date",props:{source:e}}:Zt(t)?{type:"richText",props:{source:e}}:ot(t)||rt(t)?{type:"number",props:{source:e}}:{type:"string",props:{source:e}};if(ot(t)||rt(t))return{type:"number",props:{source:e}};if(Xt(t)){let r=Object.keys(t[0]).shift(),o=t.map(s=>s[r]);return ns(`${e}.${r}`,o)}return{type:"string",props:{source:e}}},"inferTypeFromValues");import{useEffect as el,useRef as ss,useCallback as tl}from"react";import rl from"lodash/debounce";import ol from"lodash/isEqual";var nl=n(e=>({q:e}),"defaultFilterToQuery"),sl=n(({filterToQuery:e=nl,permanentFilter:t={},debounceTime:r=500})=>{let o=ss(t),s=ss(),[a,i]=z(y(y({},t),e(""))),u=JSON.stringify(t);el(()=>{ol(o.current,t)||(o.current=t,i(y(y({},t),e(s.current))))},[u,o,e]);let c=tl(rl(p=>{i(y(y({},t),e(p))),s.current=p},r),[u]);return{filter:a,setFilter:c}},"default");import{useReducer as cl,useEffect as ul,useRef as ll,useCallback as mo}from"react";import al from"lodash/set";var st="SET_SORT",oe="ASC",rr="DESC",Qe="SET_PAGE",at="SET_PER_PAGE",De="SET_FILTER",it="SHOW_FILTER",ct="HIDE_FILTER",il=n(e=>e===rr?oe:rr,"oppositeOrder"),or=n((e,t)=>{switch(t.type){case st:return t.payload.field===e.sort?D(y({},e),{order:il(e.order),page:1}):D(y({},e),{sort:t.payload.field,order:t.payload.order||oe,page:1});case Qe:return D(y({},e),{page:t.payload});case at:return D(y({},e),{page:1,perPage:t.payload});case De:return D(y({},e),{page:1,filter:t.payload.filter,displayedFilters:t.payload.displayedFilters?t.payload.displayedFilters:e.displayedFilters});case it:return e.displayedFilters&&e.displayedFilters[t.payload.filterName]?e:D(y({},e),{filter:typeof t.payload.defaultValue!="undefined"?al(e.filter,t.payload.filterName,t.payload.defaultValue):e.filter,displayedFilters:D(y({},e.displayedFilters),{[t.payload.filterName]:!0})});case ct:return D(y({},e),{filter:X(Dr(e.filter,t.payload)),displayedFilters:e.displayedFilters?Object.keys(e.displayedFilters).reduce((r,o)=>o!==t.payload?D(y({},r),{[o]:!0}):r,{}):e.displayedFilters});default:return e}},"queryReducer"),po=or;var dl=n((e,t)=>{switch(t.type){case"SET_SORT":return t.payload;case"SET_SORT_FIELD":{let r=t.payload,o=e.field===r?e.order===oe?rr:oe:oe;return{field:r,order:o}}case"SET_SORT_ORDER":{let r=t.payload;return D(y({},e),{order:r})}default:return e}},"sortReducer"),pl={field:"id",order:"DESC"},ml=n((e=pl)=>{let[t,r]=cl(dl,e),o=ll(!0);return ul(()=>{if(o.current){o.current=!1;return}r({type:"SET_SORT",payload:e})},[e.field,e.order]),{setSort:mo(s=>r({type:"SET_SORT",payload:s}),[r]),setSortField:mo(s=>r({type:"SET_SORT_FIELD",payload:s}),[r]),setSortOrder:mo(s=>r({type:"SET_SORT_ORDER",payload:s}),[r]),sort:t}},"useSortState"),ut=ml;import{useEffect as fl,useReducer as yl,useCallback as as,useRef as gl}from"react";var Rl=n((e,t)=>y(y({},e),t),"paginationReducer"),Pl={page:1,perPage:25},lt=n((e={})=>{let[t,r]=yl(Rl,y(y({},Pl),e)),o=gl(!0),s=as(i=>r({perPage:i,page:1}),[]),a=as(i=>r({page:i}),[]);return fl(()=>{if(o.current){o.current=!1;return}s(e.perPage||25)},[e.perPage,s]),{page:t.page,perPage:t.perPage,pagination:t,setPage:a,setPerPage:s,setPagination:r}},"default");import*as hl from"react";var xl=n((e,t,r)=>{let o=Object.keys(r),s=t.filter(a=>!o.includes(a));if(s.length>0)throw new Error(`<${e}> component is not properly configured, some essential props are missing.
Be sure to pass the props from the parent. Example:

const My${e} = props => (
    <${e} {...props}></${e}>
);

The missing props are: ${s.join(", ")}`)},"useCheckMinimumRequiredProps");import{useCallback as Cl}from"react";var Tl=n(e=>{let{record:t,redirect:r="list",onClick:o,mutationOptions:s}=e,a=H(e),i=G(),u=nr(a),c=ce(),[p,{isLoading:m}]=Qt(),f=Cl(x=>{x.stopPropagation(),p(a,{id:t.id,previousData:t},y({onSuccess:()=>{i("ra.notification.deleted",{type:"info",messageArgs:{smart_count:1},undoable:!0}),u([t.id]),c(r,a)},onError:C=>{i(typeof C=="string"?C:C.message||"ra.notification.http_error",{type:"warning",messageArgs:{_:typeof C=="string"?C:C&&C.message?C.message:void 0}})},mutationMode:"undoable"},s)),typeof o=="function"&&o(x)},[p,s,i,o,t,c,r,a,u]);return{isLoading:m,handleDelete:f}},"useDeleteWithUndoController"),Sl=Tl;import{useState as Ml,useCallback as Ll}from"react";var bl=n(e=>{let{record:t,redirect:r,mutationMode:o,onClick:s,mutationOptions:a}=e,i=H(e),[u,c]=Ml(!1),p=G(),m=nr(i),f=ce(),[x,{isLoading:C}]=Qt(),b=n(g=>{c(!0),g.stopPropagation()},"handleDialogOpen"),S=n(g=>{c(!1),g.stopPropagation()},"handleDialogClose"),P=Ll(g=>{g.stopPropagation(),x(i,{id:t.id,previousData:t},y({onSuccess:()=>{c(!1),p("ra.notification.deleted",{type:"info",messageArgs:{smart_count:1},undoable:o==="undoable"}),m([t.id]),f(r,i)},onError:R=>{c(!1),p(typeof R=="string"?R:R.message||"ra.notification.http_error",{type:"warning",messageArgs:{_:typeof R=="string"?R:R&&R.message?R.message:void 0}})},mutationMode:o},a)),typeof s=="function"&&s(g)},[x,o,a,p,s,t,f,r,i,m]);return{open:u,isLoading:C,handleDialogOpen:b,handleDialogClose:S,handleDelete:P}},"useDeleteWithConfirmController"),El=bl;import*as ds from"react";import{useCallback as vl}from"react";import{parse as Dl}from"query-string";import{useLocation as wl}from"react-router-dom";var sr=n((e={})=>{var L;let{disableAuthentication:t,record:r,redirect:o,transform:s,mutationOptions:a={}}=e;re({enabled:!t});let i=H(e),{hasEdit:u,hasShow:c}=Zn(e),p=o!=null?o:Al(c,u),m=wl(),f=Q(),x=G(),C=ce(),b=(L=r!=null?r:Il(m))!=null?L:void 0,v=a,{onSuccess:S,onError:P}=v,g=F(v,["onSuccess","onError"]),[R,{isLoading:M}]=On(i,void 0,g),T=vl((I,{onSuccess:N,onError:A,transform:w}={})=>Promise.resolve(w?w(I):s?s(I):I).then(O=>R(i,{data:O},{onSuccess:N||S||(k=>{x("ra.notification.created",{type:"info",messageArgs:{smart_count:1}}),C(p,i,k.id,k)}),onError:A||P||(k=>{x(typeof k=="string"?k:k.message||"ra.notification.http_error",{type:"warning",messageArgs:{_:typeof k=="string"?k:k&&k.message?k.message:void 0}})})})),[R,p,x,P,S,C,i,s]),h=Te(),E=f("ra.page.create",{name:h(i,1)});return{isFetching:!1,isLoading:!1,saving:M,defaultTitle:E,save:T,resource:i,record:b,redirect:p}},"useCreateController"),Il=n(({state:e,search:t})=>{if(e&&e.record)return e.record;if(t)try{let r=Dl(t);if(r.source){if(Array.isArray(r.source)){console.error(`Failed to parse location search parameter '${t}'. To pre-fill some fields in the Create form, pass a stringified source parameter (e.g. '?source={"title":"foo"}')`);return}return JSON.parse(r.source)}}catch{console.error(`Failed to parse location search parameter '${t}'. To pre-fill some fields in the Create form, pass a stringified source parameter (e.g. '?source={"title":"foo"}')`)}return null},"getRecordFromLocation"),Al=n((e,t)=>t?"edit":e?"show":"list","getDefaultRedirectRoute");import*as lr from"react";import*as is from"react";import{createContext as Fl}from"react";var ar=Fl(void 0);ar.displayName="RecordContext";var de=n(({children:e,value:t})=>is.createElement(ar.Provider,{value:t},e),"RecordContextProvider");import{createContext as Nl}from"react";var dt=Nl({record:null,defaultTitle:null,isFetching:null,isLoading:null,redirect:null,resource:null,save:null,saving:null});dt.displayName="CreateContext";import{createContext as Ol}from"react";var ir=Ol(void 0);import*as cs from"react";var cr=n(({children:e,value:t})=>cs.createElement(ir.Provider,{value:t},e),"SaveContextProvider");import{useMemo as Ul}from"react";import kl from"lodash/pick";var ur=n(e=>Ul(()=>kl(e,["save","saving","mutationMode"]),[e.save,e.saving,e.mutationMode]),"usePickSaveContext");import{useContext as jl}from"react";var us=n(e=>jl(ir),"useSaveContext");var ls=n(({children:e,value:t})=>lr.createElement(dt.Provider,{value:t},lr.createElement(cr,{value:D(y({},ur(t)),{mutationMode:"pessimistic"})},lr.createElement(de,{value:t&&t.record},e))),"CreateContextProvider");var CM=n(r=>{var o=r,{children:e}=o,t=F(o,["children"]);return ds.createElement(ls,{value:sr(t)},e)},"CreateBase");var bM=n(r=>{var o=r,{children:e}=o,t=F(o,["children"]);let s=sr(t);return e(s)},"CreateController");import{useContext as Vl,useMemo as Gl}from"react";import Ql from"lodash/defaults";var IM=n(e=>{let t=Vl(dt);return Gl(()=>Ql({},e!=null?_l(e):{},t),[t,e])},"useCreateContext"),_l=n(({record:e,defaultTitle:t,isFetching:r,isLoading:o,redirect:s,resource:a,save:i,saving:u})=>({record:e,defaultTitle:t,isFetching:r,isLoading:o,redirect:s,resource:a,save:i,saving:u}),"extractCreateContextProps");import*as gs from"react";import{useCallback as zl}from"react";import{useParams as Hl}from"react-router-dom";var dr=n((e={})=>{let{disableAuthentication:t,id:r,mutationMode:o="undoable",mutationOptions:s={},queryOptions:a={},redirect:i=ps,transform:u}=e;re({enabled:!t});let c=H(e),p=Q(),m=G(),f=ce(),x=jt(),{id:C}=Hl(),b=r||decodeURIComponent(C),O=s,{onSuccess:S,onError:P}=O,g=F(O,["onSuccess","onError"]),{data:R,error:M,isLoading:T,isFetching:h,refetch:E}=Vt(c,{id:b},y({onError:()=>{m("ra.notification.item_doesnt_exist",{type:"warning"}),f("list",c),x()},refetchOnReconnect:!1,refetchOnWindowFocus:!1,retry:!1},a));if(R&&R.id&&R.id!=b)throw new Error(`useEditController: Fetched record's id attribute (${R.id}) must match the requested 'id' (${b})`);let L=Te(),v=p("ra.page.edit",{name:L(c,1),id:b,record:R}),I={id:b,previousData:R},[N,{isLoading:A}]=Un(c,I,D(y({},g),{mutationMode:o})),w=zl((k,{onSuccess:$,onError:q,transform:V}={})=>Promise.resolve(V?V(k,{previousData:I.previousData}):u?u(k,{previousData:I.previousData}):k).then(U=>N(c,{data:U},{onSuccess:$||S||(()=>{m("ra.notification.updated",{type:"info",messageArgs:{smart_count:1},undoable:o==="undoable"}),f(i,c,U.id,U)}),onError:q||P||(j=>{m(typeof j=="string"?j:j.message||"ra.notification.http_error",{type:"warning",messageArgs:{_:typeof j=="string"?j:j&&j.message?j.message:void 0}})})})),[o,m,P,S,f,i,c,u,N,I.previousData]);return{defaultTitle:v,error:M,isFetching:h,isLoading:T,mutationMode:o,record:R,redirect:ps,refetch:E,resource:c,save:w,saving:A}},"useEditController"),ps="list";import*as pr from"react";import{useContext as Wl}from"react";var pe=n(e=>{let t=Wl(ar);return e&&e.record||t},"useRecordContext");var $M=n(({render:e})=>{let t=pe();return t?e(t):null},"WithRecord");import*as ms from"react";var fs=n(({value:e,children:t})=>e?ms.createElement(de,{value:e},t):t,"OptionalRecordContextProvider");import{createContext as Yl}from"react";var pt=Yl({record:null,defaultTitle:null,isFetching:null,isLoading:null,mutationMode:null,redirect:null,refetch:null,resource:null,save:null,saving:null});pt.displayName="EditContext";var ys=n(({children:e,value:t})=>pr.createElement(pt.Provider,{value:t},pr.createElement(cr,{value:ur(t)},pr.createElement(de,{value:t&&t.record},e))),"EditContextProvider");var iL=n(r=>{var o=r,{children:e}=o,t=F(o,["children"]);return gs.createElement(ys,{value:dr(t)},e)},"EditBase");var pL=n(r=>{var o=r,{children:e}=o,t=F(o,["children"]);let s=dr(t);return e(s)},"EditController");import{useContext as Jl,useMemo as $l}from"react";import Zl from"lodash/defaults";var RL=n(e=>{let t=Jl(pt);return $l(()=>Zl({},e!=null?Bl(e):{},t),[t,e])},"useEditContext"),Bl=n(({data:e,record:t,defaultTitle:r,isFetching:o,isLoading:s,mutationMode:a,redirect:i,resource:u,save:c,saving:p})=>({data:t||e,record:t||e,defaultTitle:r,isFetching:o,isLoading:s,mutationMode:a,redirect:i,resource:u,save:c,saving:p}),"extractEditContextProps");import zd from"lodash/get";import*as fo from"react";import{isValidElement as fd,useEffect as yd,useMemo as gd}from"react";import{useMemo as ql}from"react";var me=n(e=>{let t=`${e}.selectedIds`,[r,o]=ue(t,Kl),s=dn(t),a=ql(()=>({select:i=>{!i||o([...i])},unselect(i){!i||i.length===0||o(u=>Array.isArray(u)?u.filter(c=>!i.includes(c)):[])},toggle:i=>{typeof i!="undefined"&&o(u=>{if(!Array.isArray(u))return[...u];let c=u.indexOf(i);return c>-1?[...u.slice(0,c),...u.slice(c+1)]:[...u,i]})},clearSelection:()=>{s()}}),[o,s]);return[r,a]},"useRecordSelection"),Kl=[];import{useCallback as we,useMemo as Xl,useEffect as ed,useState as td,useRef as rd}from"react";import{parse as od,stringify as nd}from"query-string";import sd from"lodash/debounce";import ad from"lodash/pickBy";import{useNavigate as id,useLocation as cd}from"react-router-dom";var Rs=n(({resource:e,filterDefaultValues:t,sort:r=md,perPage:o=10,debounce:s=500,disableSyncWithLocation:a=!1})=>{let i=cd(),u=id(),[c,p]=td(Cs),m=`${e}.listParams`,[f,x]=ue(m,Cs),C=rd(),b=ln(),S=[i.search,e,JSON.stringify(a?c:f),JSON.stringify(t),JSON.stringify(r),o,a],P=a?{}:ld(i),g=Xl(()=>pd({queryFromLocation:P,params:a?c:f,filterDefaultValues:t,sort:r,perPage:o}),S);ed(()=>{Object.keys(P).length>0&&x(g)},[i.search]);let R=we(w=>{!b.current||(C.current?C.current=po(C.current,w):(C.current=po(g,w),setTimeout(()=>{a?p(C.current):u({search:`?${nd(D(y({},C.current),{filter:JSON.stringify(C.current.filter),displayedFilters:JSON.stringify(C.current.displayedFilters)}))}`},{state:{_scrollToTop:w.type===Qe}}),C.current=void 0},0)))},S),M=we(w=>R({type:st,payload:w}),S),T=we(w=>R({type:Qe,payload:w}),S),h=we(w=>R({type:at,payload:w}),S),E=g.filter||xs,L=g.displayedFilters||xs,v=sd((w,O)=>{R({type:De,payload:{filter:X(w),displayedFilters:O}})},s),I=we((w,O,k=!0)=>k?v(w,O):R({type:De,payload:{filter:X(w),displayedFilters:O}}),S),N=we(w=>{R({type:ct,payload:w})},S),A=we((w,O)=>{R({type:it,payload:{filterName:w,defaultValue:O}})},S);return[y({displayedFilters:L,filterValues:E,requestSignature:S},g),{changeParams:R,setPage:T,setPerPage:h,setSort:M,setFilters:I,hideFilter:N,showFilter:A}]},"useListParams"),ud=["page","perPage","sort","order","filter","displayedFilters"],Ps=n((e,t)=>{if(e[t]&&typeof e[t]=="string")try{e[t]=JSON.parse(e[t])}catch{delete e[t]}},"parseObject"),ld=n(({search:e})=>{let t=ad(od(e),(r,o)=>ud.indexOf(o)!==-1);return Ps(t,"filter"),Ps(t,"displayedFilters"),t},"parseQueryFromLocation"),dd=n(e=>e&&e.filter&&(Object.keys(e.filter).length>0||e.order!=null||e.page!==1||e.perPage!=null||e.sort!=null),"hasCustomParams"),pd=n(({queryFromLocation:e,params:t,filterDefaultValues:r,sort:o,perPage:s})=>{let a=Object.keys(e).length>0?e:dd(t)?y({},t):{filter:r||{}};return a.sort||(a.sort=o.field,a.order=o.order),a.perPage==null&&(a.perPage=s),a.page==null&&(a.page=1),D(y({},a),{page:hs(a.page,1),perPage:hs(a.perPage,10)})},"getQuery"),hs=n((e,t)=>{let r=typeof e=="string"?parseInt(e,10):e;return isNaN(r)?t:r},"getNumberOrDefault"),xs={},md={field:"id",order:oe},Cs={};var mr=n((e={})=>{let{disableAuthentication:t,exporter:r=tt,filterDefaultValues:o,sort:s=Rd,perPage:a=10,filter:i,debounce:u=500,disableSyncWithLocation:c,queryOptions:p}=e;re({enabled:!t});let m=H(e);if(!m)throw new Error("<List> was called outside of a ResourceContext and without a resource prop. You must set the resource prop.");if(i&&fd(i))throw new Error("<List> received a React element as `filter` props. If you intended to set the list filter elements, use the `filters` (with an s) prop instead. The `filter` prop is internal and should not be set by the developer.");let f=Q(),x=G(),[C,b]=Rs({resource:m,filterDefaultValues:o,sort:s,perPage:a,debounce:u,disableSyncWithLocation:c}),[S,P]=me(m),{data:g,pageInfo:R,total:M,error:T,isLoading:h,isFetching:E,refetch:L}=je(m,{pagination:{page:C.page,perPage:C.perPage},sort:{field:C.sort,order:C.order},filter:y(y({},C.filter),i)},y({keepPreviousData:!0,retry:!1,onError:A=>x((A==null?void 0:A.message)||"ra.notification.http_error",{type:"warning",messageArgs:{_:A==null?void 0:A.message}})},p));yd(()=>{if(C.page<=0||!E&&C.page>1&&g.length===0){b.setPage(1);return}if(M==null)return;let A=Math.ceil(M/C.perPage)||1;!E&&C.page>A&&b.setPage(A)},[E,C.page,C.perPage,g,b,M]);let v=gd(()=>({field:C.sort,order:C.order}),[C.sort,C.order]),I=Te(),N=f("ra.page.list",{name:I(m,2)});return{sort:v,data:g,defaultTitle:N,displayedFilters:C.displayedFilters,error:T,exporter:r,filter:i,filterValues:C.filterValues,hideFilter:b.hideFilter,isFetching:E,isLoading:h,onSelect:P.select,onToggleItem:P.toggle,onUnselectItems:P.clearSelection,page:C.page,perPage:C.perPage,refetch:L,resource:m,selectedIds:S,setFilters:b.setFilters,setPage:b.setPage,setPerPage:b.setPerPage,setSort:b.setSort,showFilter:b.showFilter,total:M,hasNextPage:R?R.hasNextPage:M!=null?C.page*C.perPage<M:void 0,hasPreviousPage:R?R.hasPreviousPage:C.page>1}},"useListController"),Rd={field:"id",order:oe},Ts=["sort","data","defaultTitle","displayedFilters","error","exporter","filterValues","hideFilter","isFetching","isLoading","onSelect","onToggleItem","onUnselectItems","page","perPage","refetch","refresh","resource","selectedIds","setFilters","setPage","setPerPage","setSort","showFilter","total","totalPages"],zL=n(e=>Ts.reduce((t,r)=>D(y({},t),{[r]:e[r]}),{}),"getListControllerProps"),HL=n(e=>Object.keys(e).filter(t=>!Ts.includes(t)).reduce((t,r)=>D(y({},t),{[r]:e[r]}),{}),"sanitizeListRestProps");import*as Rt from"react";import{createContext as Pd}from"react";var mt=Pd({sort:null,data:null,defaultTitle:null,displayedFilters:null,exporter:null,filterValues:null,hasNextPage:null,hasPreviousPage:null,hideFilter:null,isFetching:null,isLoading:null,onSelect:null,onToggleItem:null,onUnselectItems:null,page:null,perPage:null,refetch:null,resource:null,selectedIds:void 0,setFilters:null,setPage:null,setPerPage:null,setSort:null,showFilter:null,total:null});mt.displayName="ListContext";import{createContext as hd,useMemo as xd}from"react";import Cd from"lodash/pick";var ft=hd({displayedFilters:null,filterValues:null,hideFilter:null,setFilters:null,showFilter:null,resource:null}),Ss=n(e=>xd(()=>Cd(e,["displayedFilters","filterValues","hideFilter","setFilters","showFilter","resource"]),[e.displayedFilters,e.filterValues,e.hideFilter,e.setFilters,e.showFilter]),"usePickFilterContext");ft.displayName="ListFilterContext";import{createContext as Td,useMemo as Sd}from"react";import Md from"lodash/pick";var yt=Td({sort:null,setSort:null,resource:null}),Ms=n(e=>Sd(()=>Md(e,["sort","setSort","resource"]),[e.sort,e.setSort]),"usePickSortContext");yt.displayName="ListSortContext";import{createContext as Ld,useMemo as bd}from"react";import Ed from"lodash/pick";var gt=Ld({isLoading:null,page:null,perPage:null,setPage:null,setPerPage:null,hasPreviousPage:null,hasNextPage:null,total:void 0,resource:null});gt.displayName="ListPaginationContext";var Ls=n(e=>bd(()=>Ed(e,["isLoading","hasPreviousPage","hasNextPage","page","perPage","setPage","setPerPage","total","resource"]),[e.isLoading,e.hasPreviousPage,e.hasNextPage,e.page,e.perPage,e.setPage,e.setPerPage,e.total]),"usePickPaginationContext");var bs=n(({value:e,children:t})=>Rt.createElement(mt.Provider,{value:e},Rt.createElement(ft.Provider,{value:Ss(e)},Rt.createElement(yt.Provider,{value:Ms(e)},Rt.createElement(gt.Provider,{value:Ls(e)},t)))),"ListContextProvider");var pb=n(r=>{var o=r,{children:e}=o,t=F(o,["children"]);return fo.createElement(zt,{value:t.resource},fo.createElement(bs,{value:mr(t)},e))},"ListBase");var Rb=n(r=>{var o=r,{children:e}=o,t=F(o,["children"]);let s=mr(t);return e(s)},"ListController");import{useCallback as fr,useEffect as yr,useRef as vd}from"react";import Pt from"lodash/get";import Dd from"lodash/isEqual";var wd=n(()=>{throw new Error("refetch is not available for a ListContext built from useList based on local data")},"refetch"),gr=n(e=>{let{data:t,error:r,filter:o=Id,isFetching:s=!1,isLoading:a=!1,page:i=1,perPage:u=1e3,sort:c=Ad}=e,p=H(e),[m,f]=z(s),[x,C]=z(a),[b,S]=z(()=>({data:t,total:t?t.length:void 0})),{page:P,setPage:g,perPage:R,setPerPage:M}=lt({page:i,perPage:u}),{sort:T,setSort:h}=ut(c),E=fr(V=>{h(V),g(1)},[g,h]),[L,v]=me(p),I=vd(o),[N,A]=z({}),[w,O]=z(o),k=fr(V=>{A(U=>{let Y=U,{[V]:j}=Y;return F(Y,[Re(V)])}),O(U=>{let Y=U,{[V]:j}=Y;return F(Y,[Re(V)])})},[A,O]),$=fr((V,U)=>{A(j=>D(y({},j),{[V]:!0})),O(j=>X(D(y({},j),{[V]:U})))},[A,O]),q=fr((V,U)=>{O(X(V)),U&&A(U),g(1)},[A,O,g]);return yr(()=>{Dd(o,I.current)||(I.current=o,O(o))}),yr(()=>{if(a||!t)return;let V=t.filter(j=>Object.entries(w).every(([B,Y])=>{let K=Pt(j,B);return Array.isArray(K)?Array.isArray(Y)?K.some(Tt=>Y.includes(Tt)):K.includes(Y):Array.isArray(Y)?Y.includes(K):Y==K})),U=V.length;T.field&&(V=V.sort((j,B)=>Pt(j,T.field)>Pt(B,T.field)?T.order==="ASC"?1:-1:Pt(j,T.field)<Pt(B,T.field)?T.order==="ASC"?-1:1:0)),V=V.slice((P-1)*R,P*R),S({data:V,total:U})},[JSON.stringify(t),w,a,P,R,S,T.field,T.order]),yr(()=>{s!==m&&f(s)},[s,m,f]),yr(()=>{a!==x&&C(a)},[a,x,C]),{sort:T,data:b.data,defaultTitle:"",error:r,displayedFilters:N,filterValues:w,hasNextPage:P*R<b.total,hasPreviousPage:P>1,hideFilter:k,isFetching:m,isLoading:x,onSelect:v.select,onToggleItem:v.toggle,onUnselectItems:v.clearSelection,page:P,perPage:R,resource:void 0,refetch:wd,selectedIds:L,setFilters:q,setPage:g,setPerPage:M,setSort:E,showFilter:$,total:b.total}},"useList"),Id={},Ad={field:null,order:null};import{useContext as Fd,useMemo as Nd}from"react";import Od from"lodash/defaults";var Ib=n(e=>{let t=Fd(mt);return Nd(()=>Od({},e!=null?Ud(e):{},t),[t,e])},"useListContext"),Ud=n(({sort:e,data:t,defaultTitle:r,displayedFilters:o,exporter:s,filterValues:a,hasCreate:i,hideFilter:u,isFetching:c,isLoading:p,onSelect:m,onToggleItem:f,onUnselectItems:x,page:C,perPage:b,refetch:S,resource:P,selectedIds:g,setFilters:R,setPage:M,setPerPage:T,setSort:h,showFilter:E,total:L})=>({sort:e,data:t,defaultTitle:r,displayedFilters:o,exporter:s,filterValues:a,hasCreate:i,hideFilter:u,isFetching:c,isLoading:p,onSelect:m,onToggleItem:f,onUnselectItems:x,page:C,perPage:b,refetch:S,resource:P,selectedIds:g,setFilters:R,setPage:M,setPerPage:T,setSort:h,showFilter:E,total:L}),"extractListContextProps");import{useContext as kd}from"react";var Ub=n(e=>{let t=kd(ft);return t.hideFilter?t:(process.env.NODE_ENV!=="production"&&console.log("List components must be used inside a <ListContextProvider>. Relying on props rather than context to get List data and callbacks is deprecated and won't be supported in the next major version of react-admin."),e)},"useListFilterContext");import{useContext as jd}from"react";var Qb=n(e=>{let t=jd(gt);return t.setPage?t:(process.env.NODE_ENV!=="production"&&console.log("List components must be used inside a <ListContextProvider>. Relying on props rather than context to get List data and callbacks is deprecated and won't be supported in the next major version of react-admin."),e)},"useListPaginationContext");import{useContext as Vd}from"react";var Yb=n(e=>{let t=Vd(yt);return t.setSort?t:(process.env.NODE_ENV!=="production"&&console.log("List components must be used inside a <ListContextProvider>. Relying on props rather than context to get List data and callbacks is deprecated and won't be supported in the next major version of react-admin."),e)},"useListSortContext");import{useCallback as Gd}from"react";var nr=n(e=>{let[,{unselect:t}]=me(e);return Gd(r=>{t(r)},[t])},"useUnselect");import{useCallback as Qd}from"react";var Xb=n(e=>{let[,{clearSelection:t}]=me(e);return Qd(()=>{t()},[t])},"useUnselectAll");import{useCallback as _d}from"react";var oE=n((e,t,r=!1)=>{let[o,s]=ue(`${e}.datagrid.expanded`,[]),a=Array.isArray(o)?o.map(u=>u==t).indexOf(!0)!==-1:!1,i=_d(()=>{s(u=>{if(!Array.isArray(u))return[t];let c=u.findIndex(p=>p==t);return c>-1?r?[]:[...u.slice(0,c),...u.slice(c+1)]:r?[t]:[...u,t]})},[s,t,r]);return[a,i]},"useExpanded");var Hd=[],Wd={},Yd={field:null,order:null},lE=n(e=>{let{filter:t=Wd,page:r=1,perPage:o=1e3,record:s,reference:a,sort:i=Yd,source:u}=e,c=G(),p=zd(s,u)||Hd,{data:m,error:f,isLoading:x,isFetching:C,refetch:b}=Ve(a,{ids:p},{onError:P=>c(typeof P=="string"?P:P.message||"ra.notification.http_error",{type:"warning",messageArgs:{_:typeof P=="string"?P:P&&P.message?P.message:void 0}})}),S=gr({data:m,error:f,filter:t,isFetching:C,isLoading:x,page:r,perPage:o,sort:i});return D(y({},S),{defaultTitle:null,refetch:b,resource:a})},"useReferenceArrayFieldController");import Jd from"lodash/get";import{useCallback as Rr,useEffect as $d,useRef as Zd}from"react";import Bd from"lodash/isEqual";var qd={},CE=n(e=>{let{reference:t,record:r,target:o,filter:s=qd,source:a,page:i,perPage:u,sort:c={field:"id",order:"DESC"}}=e,p=G(),{page:m,setPage:f,perPage:x,setPerPage:C}=lt({page:i,perPage:u}),{sort:b,setSort:S}=ut(c),P=Rr(U=>{S(U),f(1)},[f,S]),[g,R]=me(t),M=Zd(s),[T,h]=z({}),[E,L]=z(s),v=Rr(U=>{h(j=>{let K=j,{[U]:B}=K;return F(K,[Re(U)])}),L(j=>{let K=j,{[U]:B}=K;return F(K,[Re(U)])})},[h,L]),I=Rr((U,j)=>{h(B=>D(y({},B),{[U]:!0})),L(B=>D(y({},B),{[U]:j}))},[h,L]),N=Rr((U,j)=>{L(X(U)),h(j),f(1)},[h,L,f]);$d(()=>{Bd(s,M.current)||(M.current=s,L(s))});let{data:A,total:w,pageInfo:O,error:k,isFetching:$,isLoading:q,refetch:V}=Gt(t,{target:o,id:Jd(r,a),pagination:{page:m,perPage:x},sort:b,filter:E},{keepPreviousData:!0,onError:U=>p(typeof U=="string"?U:U.message||"ra.notification.http_error",{type:"warning",messageArgs:{_:typeof U=="string"?U:U&&U.message?U.message:void 0}})});return{sort:b,data:A,defaultTitle:null,displayedFilters:T,error:k,filterValues:E,hideFilter:v,isFetching:$,isLoading:q,onSelect:R.select,onToggleItem:R.toggle,onUnselectItems:R.clearSelection,page:m,perPage:x,refetch:V,resource:t,selectedIds:g,setFilters:N,setPage:f,setPerPage:C,hasNextPage:O?O.hasNextPage:w!=null?m*x<w:void 0,hasPreviousPage:O?O.hasPreviousPage:m>1,setSort:P,showFilter:I,total:w}},"useReferenceManyFieldController");import Kd from"lodash/get";var bE=n(e=>{let{reference:t,record:r,target:o,source:s="id"}=e,a=G(),{data:i,error:u,isFetching:c,isLoading:p,refetch:m}=Gt(t,{target:o,id:Kd(r,s),pagination:{page:1,perPage:1},sort:{field:"id",order:"ASC"},filter:{}},{enabled:!!r,onError:f=>a(typeof f=="string"?f:f.message||"ra.notification.http_error",{type:"warning",messageArgs:{_:typeof f=="string"?f:f&&f.message?f.message:void 0}})});return{referenceRecord:i?i[0]:void 0,error:u,isFetching:c,isLoading:p,refetch:m}},"useReferenceOneFieldController");var Es=n(e=>e&&e.error!==void 0,"isMatchingReferencesError"),Xd=n(({field:e,matchingReferences:t,referenceRecord:r,translate:o=n(s=>s,"translate")})=>{let s=Es(t)?o(t.error,{_:t.error}):null,a=e.value&&!r?o("ra.input.references.single_missing",{_:"ra.input.references.single_missing"}):null;return{waiting:e.value&&a&&!t||!e.value&&!t,error:e.value&&a&&s||!e.value&&s?e.value?a:s:null,warning:a||s,choices:Array.isArray(t)?t:[r].filter(i=>i)}},"getStatusForInput"),vs="REFERENCES_STATUS_READY",ep="REFERENCES_STATUS_INCOMPLETE",yo="REFERENCES_STATUS_EMPTY",Ds=n((e,t)=>!e.value||e.value.length===t.length?vs:t.length>0?ep:yo,"getSelectedReferencesStatus"),tp=n(({field:e,matchingReferences:t,referenceRecords:r,translate:o=n(s=>s,"translate")})=>{let s=Ds(e,r),a=Es(t)?o(t.error,{_:t.error}):null,i=Array.isArray(t)?r.concat(t.filter(u=>r.findIndex(c=>c.id===u.id)===-1)):r;return{waiting:!t&&e.value&&s===yo||!t&&!e.value,error:a&&(!e.value||e.value&&s===yo)?o("ra.input.references.all_missing",{_:"ra.input.references.all_missing"}):null,warning:a||e.value&&s!==vs?a||o("ra.input.references.many_missing",{_:"ra.input.references.many_missing"}):null,choices:i}},"getStatusForArrayInput");import{useCallback as lp,useMemo as dp}from"react";import{useWatch as pp}from"react-hook-form";import{useCallback as Ie,useMemo as rp,useState as op,useRef as np}from"react";import sp from"lodash/debounce";var Pr=n(({resource:e,filter:t,sort:r=cp,page:o=1,perPage:s=10,debounce:a=500})=>{let[i,u]=op(up),c=np(),p=[e,JSON.stringify(i),JSON.stringify(t),JSON.stringify(r),o,s],m=rp(()=>ap({params:i,filterDefaultValues:t,sort:r,page:o,perPage:s}),p),f=Ie(h=>{c.current?c.current=or(c.current,h):(c.current=or(m,h),setTimeout(()=>{u(c.current),c.current=void 0},0))},p),x=Ie(h=>f({type:st,payload:h}),p),C=Ie(h=>f({type:Qe,payload:h}),p),b=Ie(h=>f({type:at,payload:h}),p),S=m.filter||Is,P=m.displayedFilters||Is,g=sp((h,E)=>{f({type:De,payload:{filter:X(h),displayedFilters:E}})},a),R=Ie((h,E,L=!0)=>{L?g(h,E):f({type:De,payload:{filter:X(h),displayedFilters:E}})},p),M=Ie(h=>{f({type:ct,payload:h})},p),T=Ie((h,E)=>{f({type:it,payload:{filterName:h,defaultValue:E}})},p);return[y({displayedFilters:P,filterValues:S,requestSignature:p},m),{changeParams:f,setPage:C,setPerPage:b,setSort:x,setFilters:R,hideFilter:M,showFilter:T}]},"useReferenceParams");var ap=n(({params:e,filterDefaultValues:t,sort:r,page:o,perPage:s})=>{let a=ip(e)?y({},e):{filter:t||{}};return a.sort||(a.sort=r.field,a.order=r.order),a.page==null&&(a.page=o),a.perPage==null&&(a.perPage=s),a.page==null&&(a.page=1),D(y({},a),{page:ws(a.page,1),perPage:ws(a.perPage,10)})},"getQuery"),ip=n(e=>e&&e.filter&&(Object.keys(e.filter).length>0||e.order!=null||e.page!==1||e.perPage!=null||e.sort!=null),"hasCustomParams"),ws=n((e,t)=>{let r=typeof e=="string"?parseInt(e,10):e;return isNaN(r)?t:r},"getNumberOrDefault"),Is={},cp={field:"id",order:oe},up={};var jE=n(e=>{let{debounce:t,enableGetChoices:r,filter:o,page:s=1,perPage:a=25,sort:i={field:"id",order:"DESC"},queryOptions:u={},reference:c,source:p}=e,m=pp({name:p}),{data:f,error:x,isLoading:C,isFetching:b,refetch:S}=Ve(c,{ids:m||mp},{enabled:m!=null&&m.length>0}),[P,g]=Pr({resource:c,page:s,perPage:a,sort:i,debounce:t,filter:o}),R=f?f.filter(Boolean):[],M=r?r(P.filterValues):!0,{data:T,total:h,pageInfo:E,error:L,isLoading:v,isFetching:I,refetch:N}=je(c,{pagination:{page:P.page,perPage:P.perPage},sort:{field:P.sort,order:P.order},filter:y(y({},P.filter),o)},y({retry:!1,enabled:M},u)),A=T&&T.length>0?fp(T,R):R.length>0?R:T,w=lp(()=>{S(),N()},[S,N]);return{sort:dp(()=>({field:P.sort,order:P.order}),[P.sort,P.order]),allChoices:A,availableChoices:T,selectedChoices:R,displayedFilters:P.displayedFilters,error:x||L,filter:o,filterValues:P.filterValues,hideFilter:g.hideFilter,isFetching:b||I,isLoading:C||v,page:P.page,perPage:P.perPage,refetch:w,resource:c,setFilters:g.setFilters,setPage:g.setPage,setPerPage:g.setPerPage,setSort:g.setSort,showFilter:g.showFilter,source:p,total:h,hasNextPage:E?E.hasNextPage:h!=null?P.page*P.perPage<h:void 0,hasPreviousPage:E?E.hasPreviousPage:P.page>1}},"useReferenceArrayInputController"),mp=[],fp=n((e,t)=>{let r=[...e],o=e.map(s=>s.id);return t.forEach(s=>{o.includes(s.id)||(o.push(s.id),r.push(s))}),r},"mergeReferences");import{useCallback as yp,useMemo as gp}from"react";import{useWatch as Rp}from"react-hook-form";var As=n(({reference:e,id:t})=>{let{data:r,error:o,isLoading:s,isFetching:a,refetch:i}=Ve(e,{ids:[t]});return{referenceRecord:o?void 0:r?r[0]:void 0,refetch:i,error:o,isLoading:s,isFetching:a}},"useReference");var $E=n(e=>{let{debounce:t,enableGetChoices:r,filter:o,page:s=1,perPage:a=25,sort:i,queryOptions:u={},reference:c,source:p}=e,[m,f]=Pr({resource:c,page:s,perPage:a,sort:i,debounce:t,filter:o}),x=Rp({name:p}),C=r?r(m.filterValues):!0,{data:b=[],total:S,pageInfo:P,isFetching:g,isLoading:R,error:M,refetch:T}=je(c,{pagination:{page:m.page,perPage:m.perPage},sort:{field:m.sort,order:m.order},filter:y(y({},m.filter),o)},y({enabled:C},u)),{referenceRecord:h,refetch:E,error:L,isLoading:v,isFetching:I}=As({id:x,reference:c}),N,A;!h||b.find(k=>k.id===x)?(N=b,A=S):(N=[h,...b],A=S==null?void 0:S+1);let w=yp(()=>{T(),E()},[T,E]);return{sort:gp(()=>({field:m.sort,order:m.order}),[m.sort,m.order]),allChoices:N,availableChoices:b,selectedChoices:[h],displayedFilters:m.displayedFilters,error:L||M,filter:m.filter,filterValues:m.filterValues,hideFilter:f.hideFilter,isFetching:I||g,isLoading:v||R,page:m.page,perPage:m.perPage,refetch:w,resource:c,setFilters:f.setFilters,setPage:f.setPage,setPerPage:f.setPerPage,setSort:f.setSort,showFilter:f.showFilter,source:p,total:A,hasNextPage:P?P.hasNextPage:S!=null?m.page*m.perPage<S:void 0,hasPreviousPage:P?P.hasPreviousPage:m.page>1}},"useReferenceInputController");import*as Ns from"react";import{useParams as Pp}from"react-router-dom";var hr=n((e={})=>{let{disableAuthentication:t,id:r,queryOptions:o={}}=e;re({enabled:!t});let s=H(e),a=Q(),i=G(),u=ce(),c=jt(),{id:p}=Pp(),m=r||decodeURIComponent(p),{data:f,error:x,isLoading:C,isFetching:b,refetch:S}=Vt(s,{id:m},y({onError:()=>{i("ra.notification.item_doesnt_exist",{type:"warning"}),u("list",s),c()},retry:!1},o));if(f&&f.id&&f.id!=m)throw new Error(`useShowController: Fetched record's id attribute (${f.id}) must match the requested 'id' (${m})`);let P=Te();return{defaultTitle:a("ra.page.show",{name:P(s,1),id:m,record:f}),error:x,isLoading:C,isFetching:b,record:f,refetch:S,resource:s}},"useShowController");import*as go from"react";import{createContext as hp}from"react";var ht=hp({record:null,defaultTitle:null,isFetching:null,isLoading:null,refetch:null,resource:null});ht.displayName="ShowContext";var Fs=n(({children:e,value:t})=>go.createElement(ht.Provider,{value:t},go.createElement(de,{value:t&&t.record},e)),"ShowContextProvider");var Rv=n(r=>{var o=r,{children:e}=o,t=F(o,["children"]);return Ns.createElement(Fs,{value:hr(t)},e)},"ShowBase");var Tv=n(r=>{var o=r,{children:e}=o,t=F(o,["children"]);let s=hr(t);return e(s)},"ShowController");import{useContext as xp,useMemo as Cp}from"react";import Tp from"lodash/defaults";var Ev=n(e=>{let t=xp(ht);return Cp(()=>Tp({},e!=null?Sp(e):{},t),[t,e])},"useShowContext"),Sp=n(({record:e,data:t,defaultTitle:r,isFetching:o,isLoading:s,resource:a})=>({record:e||t,data:e||t,defaultTitle:r,isFetching:o,isLoading:s,resource:a}),"extractShowContextProps");import*as Os from"react";import{useWatch as Mp}from"react-hook-form";import Lp from"lodash/get";var bp=n(e=>{let t=Mp();return Os.createElement(Ep,y({formData:t},e))},"FormDataConsumer"),Ep=n(e=>{let f=e,{children:t,form:r,formData:o,source:s,index:a}=f,i=F(f,["children","form","formData","source","index"]),u=o,c,p=!1,m;return typeof a!="undefined"?(u=Lp(o,s),c=n(x=>(p=!0,`${s}.${x}`),"getSource"),m=t(y({formData:o,scopedFormData:u,getSource:c},i))):m=t(y({formData:o},i)),$e(typeof a!="undefined"&&m&&!p,`You're using a FormDataConsumer inside an ArrayInput and you did not call the getSource function supplied by the FormDataConsumer component. This is required for your inputs to get the proper source.

<ArrayInput source="users">
    <SimpleFormIterator>
        <TextInput source="name" />

        <FormDataConsumer>
            {({
                formData, // The whole form data
                scopedFormData, // The data for this item of the ArrayInput
                getSource, // A function to get the valid source inside an ArrayInput
                ...rest,
            }) =>
                scopedFormData.name ? (
                    <SelectInput
                        source={getSource('role')} // Will translate to "users[0].role"
                        choices={[{id: 1, name: 'Admin'}, {id: 2, name: 'User'},
                        {...rest}
                    />
                ) : null
            }
        </FormDataConsumer>
    </SimpleFormIterator>
</ArrayInput>`),m===void 0?null:m},"FormDataConsumerView"),vp=bp;import{createContext as Dp}from"react";var xt=Dp(void 0);import*as _e from"react";var wp=n(e=>{let{error:t}=e,r=Q();if(t.message){let{message:o,args:s}=t;return _e.createElement(_e.Fragment,null,r(o,y({_:o},s)))}return _e.createElement(_e.Fragment,null,r(t,{_:t}))},"ValidationError"),Ip=wp;import Ro from"lodash";var Us=n((e,t=[])=>Ro.isObject(e)?Ro.reduce(e,(r,o,s)=>Ro.merge(r,Us(o,[...t,s])),{}):{[t.join(".")]:e},"flattenKeys"),Po=n(e=>async t=>{let r=await e(t);if(!r||Object.getOwnPropertyNames(r).length===0)return{values:t,errors:{}};let o=Us(r);return{values:{},errors:Object.keys(o).reduce((s,a)=>D(y({},s),{[a]:{type:"manual",message:o[a]}}),{})}},"getSimpleValidationResolver");import{createContext as Ap}from"react";var xr=Ap(void 0);import*as ks from"react";var aD=n(({children:e,value:t})=>ks.createElement(xr.Provider,{value:t},e),"ChoicesContextProvider");import{useContext as Fp,useMemo as Np}from"react";var pD=n((e={})=>{let t=Fp(xr),a=gr({data:e.choices}),{data:r}=a,o=F(a,["data"]);return Np(()=>{var i,u,c,p,m,f,x,C,b,S,P,g,R,M,T,h,E,L,v,I,N,A,w,O,k,$,q,V,U,j,B,Y,K,Sr,Tt,To,So,Mo,Lo,bo,Eo,vo,Do,wo,Io,Ao;return{allChoices:(i=t==null?void 0:t.allChoices)!=null?i:r,availableChoices:(c=(u=t==null?void 0:t.availableChoices)!=null?u:e.availableChoices)!=null?c:r,selectedChoices:(m=(p=t==null?void 0:t.selectedChoices)!=null?p:e.selectedChoices)!=null?m:r,displayedFilters:(x=(f=t==null?void 0:t.displayedFilters)!=null?f:e.displayedFilters)!=null?x:o.displayedFilters,error:(b=(C=t==null?void 0:t.error)!=null?C:e.error)!=null?b:o.error,filter:(P=(S=t==null?void 0:t.filter)!=null?S:e.filter)!=null?P:o.filter,filterValues:(R=(g=t==null?void 0:t.filterValues)!=null?g:e.filterValues)!=null?R:o.filterValues,hasNextPage:(T=(M=t==null?void 0:t.hasNextPage)!=null?M:e.hasNextPage)!=null?T:o.hasNextPage,hasPreviousPage:(E=(h=t==null?void 0:t.hasPreviousPage)!=null?h:e.hasPreviousPage)!=null?E:o.hasPreviousPage,hideFilter:(v=(L=t==null?void 0:t.hideFilter)!=null?L:e.hideFilter)!=null?v:o.hideFilter,isFetching:(N=(I=t==null?void 0:t.isFetching)!=null?I:e.isFetching)!=null?N:o.isFetching,isLoading:(w=(A=t==null?void 0:t.isLoading)!=null?A:e.isLoading)!=null?w:o.isLoading,page:(k=(O=t==null?void 0:t.page)!=null?O:e.page)!=null?k:o.page,perPage:(q=($=t==null?void 0:t.perPage)!=null?$:e.perPage)!=null?q:o.perPage,refetch:(U=(V=t==null?void 0:t.refetch)!=null?V:e.refetch)!=null?U:o.refetch,resource:(B=(j=t==null?void 0:t.resource)!=null?j:e.resource)!=null?B:o.resource,setFilters:(K=(Y=t==null?void 0:t.setFilters)!=null?Y:e.setFilters)!=null?K:o.setFilters,setPage:(Tt=(Sr=t==null?void 0:t.setPage)!=null?Sr:e.setPage)!=null?Tt:o.setPage,setPerPage:(So=(To=t==null?void 0:t.setPerPage)!=null?To:e.setPerPage)!=null?So:o.setPerPage,setSort:(Lo=(Mo=t==null?void 0:t.setSort)!=null?Mo:e.setSort)!=null?Lo:o.setSort,showFilter:(Eo=(bo=t==null?void 0:t.showFilter)!=null?bo:e.showFilter)!=null?Eo:o.showFilter,sort:(Do=(vo=t==null?void 0:t.sort)!=null?vo:e.sort)!=null?Do:o.sort,source:(wo=t==null?void 0:t.source)!=null?wo:e.source,total:(Ao=(Io=t==null?void 0:t.total)!=null?Io:e.total)!=null?Ao:o.total}},[t,r,o,e])},"useChoicesContext");import*as Ct from"react";import{FormProvider as Bp}from"react-hook-form";import*as js from"react";import{useMemo as Op,useRef as Vs}from"react";var Gs=n(({children:e})=>{let t=Vs({}),r=Vs({}),o=Op(()=>({subscribe:(s,a)=>(r.current[s]||(r.current[s]=[]),r.current[s].push(a),()=>{r.current[s]=r.current[s].filter(i=>i!==a)}),getGroupFields:s=>t.current[s]||[],registerGroup:s=>{t.current[s]=t.current[s]||[]},unregisterGroup:s=>{delete t[s]},registerField:(s,a)=>{a!=null&&((t.current[a]||[]).includes(s)||(t.current[a]=[...t.current[a]||[],s],r.current[a]&&r.current[a].forEach(i=>i())))},unregisterField:(s,a)=>{if(a!=null)if(!t.current[a])console.warn(`Invalid form group ${a}`);else{let i=new Set(t.current[a]);i.delete(s),t.current[a]=Array.from(i),r.current[a]&&r.current[a].forEach(u=>u())}}}),[]);return js.createElement(xt.Provider,{value:o},e)},"FormGroupsProvider");import{useCallback as Hs,useMemo as $p,useEffect as Ws}from"react";import{useForm as Zp}from"react-hook-form";import Up from"lodash/merge";function ze(e,t){return Up({},kp(e,t),t)}n(ze,"getFormInitialValues");function kp(e,t){return typeof e=="object"?e:typeof e=="function"?e(t):{}}n(kp,"getValues");var Qs=n((e,t)=>{let r=n((s,a)=>{s.forEach((i,u)=>{if(typeof i=="object"){o(i,`${a}.${u}.`);return}if(Array.isArray(i)){r(i,`${a}.${u}.`);return}t(`${a}.${u}`,{type:"server",message:i.toString()})})},"setErrorFromArray"),o=n((s,a)=>{Object.entries(s).forEach(([i,u])=>{if(typeof u=="object"){o(u,`${a}${i}.`);return}if(Array.isArray(u)){r(u,`${a}${i}.`);return}t(`${a}${i}`,{type:"server",message:u.toString()})})},"setErrorFromObject");o(e,"")},"setSubmissionErrors");import{useEffect as jp,useState as Vp,useRef as Gp}from"react";import{useFormState as Qp}from"react-hook-form";var _s=n(e=>{let[t,r]=Vp(!1),{isValid:o,submitCount:s,errors:a}=Qp(e?{control:e}:void 0),i=Gp(s);return jp(()=>{s>i.current&&(i.current=s,Object.keys(a).length>0&&!o?r(!0):r(!1))},[a,o,s]),t},"useIsFormInvalid");import{useContext as _p,useEffect as zp,useRef as Hp}from"react";import{useFormState as Wp}from"react-hook-form";import{UNSAFE_NavigationContext as Yp,useLocation as Jp}from"react-router-dom";var zs=n((e,t,r)=>{let o=_p(Yp).navigator,s=Jp(),a=Q(),{isSubmitSuccessful:i,isSubmitting:u,dirtyFields:c}=Wp(r?{control:r}:void 0),p=Object.keys(c).length>0,m=Hp(t||s.pathname);zp(()=>{if(!e||!p)return;let f=o.block(x=>{let C=x.location.pathname.startsWith(m.current);!u&&(C||i||window.confirm(a("ra.message.unsaved_changes")))&&(f(),x.retry())});return f},[e,s,o,p,u,i,a])},"useWarnWhenUnsavedChanges");var Ys=n(e=>{let{context:t,criteriaMode:r="firstError",defaultValues:o,delayError:s,formRootPathname:a,mode:i,resolver:u,reValidateMode:c="onChange",onSubmit:p,shouldFocusError:m,shouldUnregister:f,shouldUseNativeValidation:x,warnWhenUnsavedChanges:C,validate:b}=e,S=pe(e),P=us(),g=$p(()=>ze(o,S),[JSON.stringify({defaultValues:o,record:S})]),R=u||(b?Po(b):void 0),M=Zp({context:t,criteriaMode:r,defaultValues:g,delayError:s,mode:i,reValidateMode:c,resolver:R,shouldFocusError:m,shouldUnregister:f,shouldUseNativeValidation:x});Ws(()=>{if(!S)return;let v=ze(o,S);M.reset(v)},[M.reset,JSON.stringify(S,o)]);let T=_s(M.control),h=G();Ws(()=>{T&&h("ra.message.invalid_form",{type:"warning"})},[T,h]),zs(C,a,M.control);let E=Hs(async v=>{let I;p&&(I=await p(v)),p==null&&(P==null?void 0:P.save)&&(I=await P.save(v)),I!=null&&Qs(I,M.setError)},[M,p,P]),L=Hs(v=>{v.stopPropagation(),M.handleSubmit(E)(v)},[M,E]);return{form:M,handleSubmit:E,formHandleSubmit:L,isInvalid:T}},"useAugmentedForm");var ew=n(e=>{let{children:t,id:r,className:o,noValidate:s=!1}=e,a=pe(e),{form:i,formHandleSubmit:u}=Ys(e);return Ct.createElement(fs,{value:a},Ct.createElement(Bp,y({},i),Ct.createElement(Gs,null,Ct.createElement("form",{onSubmit:u,noValidate:s,id:r,className:o},t))))},"Form");import Js from"lodash/memoize";var qp=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,Se=n(e=>typeof e=="undefined"||e===null||e===""||Array.isArray(e)&&e.length===0,"isEmpty");function Kp(e){return e.hasOwnProperty("message")}n(Kp,"isValidationErrorMessageWithArgs");var Me=n((e,t,r,o)=>typeof e=="function"?e({args:t,value:r,values:o}):t?{message:e,args:t}:e,"getMessage"),Le=n(e=>Js(e,(...t)=>JSON.stringify(t)),"memoize"),$s=n(e=>typeof e=="function","isFunction"),Xp=n((e,t)=>(r,o,s)=>{let a=e(r,o,s);return a?typeof a=="string"||Kp(a)?a:a.then(i=>i||t(r,o,s)):t(r,o,s)},"combine2Validators"),Zs=n((...e)=>(Array.isArray(e[0])?e[0]:e).filter($s).reduce(Xp,()=>null),"composeValidators"),ow=n((...e)=>(t,r,o)=>{let s=(Array.isArray(e[0])?e[0]:e).filter($s);for(let a of s){let i=a(t,r,o);if(i)return i}},"composeSyncValidators"),nw=Le((e="ra.validation.required")=>Object.assign((t,r)=>Se(t)?Me(e,void 0,t,r):void 0,{isRequired:!0})),sw=Le((e,t="ra.validation.minLength")=>(r,o)=>!Se(r)&&r.length<e?Me(t,{min:e},r,o):void 0),aw=Le((e,t="ra.validation.maxLength")=>(r,o)=>!Se(r)&&r.length>e?Me(t,{max:e},r,o):void 0),iw=Le((e,t="ra.validation.minValue")=>(r,o)=>!Se(r)&&r<e?Me(t,{min:e},r,o):void 0),cw=Le((e,t="ra.validation.maxValue")=>(r,o)=>!Se(r)&&r>e?Me(t,{max:e},r,o):void 0),uw=Le((e="ra.validation.number")=>(t,r)=>!Se(t)&&isNaN(Number(t))?Me(e,void 0,t,r):void 0),em=Js((e,t="ra.validation.regex")=>(r,o)=>!Se(r)&&typeof r=="string"&&!e.test(r)?Me(t,{pattern:e},r,o):void 0,(e,t)=>e.toString()+t),lw=Le((e="ra.validation.email")=>em(qp,e)),tm=n(({args:e})=>({message:"ra.validation.oneOf",args:e}),"oneOfTypeMessage"),dw=Le((e,t=tm)=>(r,o)=>!Se(r)&&e.indexOf(r)===-1?Me(t,{list:e},r,o):void 0),pw=n(e=>e&&e.isRequired?!0:Array.isArray(e)?!!e.find(t=>t.isRequired):!1,"isRequired");import{createContext as rm}from"react";var Cr=rm(void 0);import*as Bs from"react";import{useEffect as nm}from"react";import{useContext as om}from"react";var He=n(()=>om(xt),"useFormGroups");var Sw=n(({children:e,name:t})=>{let r=He();return nm(()=>{if(!r||!r.registerGroup||!r.unregisterGroup){console.warn("The FormGroupContextProvider can only be used inside a FormContext such as provided by the SimpleForm and TabbedForm components");return}return r.registerGroup(t),()=>{r.unregisterGroup(t)}},[r,t]),Bs.createElement(Cr.Provider,{value:t},e)},"FormGroupContextProvider");import{useEffect as sm}from"react";import{useFormContext as am}from"react-hook-form";import ho from"lodash/get";var qs=n(e=>{let{defaultValue:t,source:r}=e,o=pe(e),{getValues:s,resetField:a}=am(),i=ho(o,r),u=ho(s(),r);sm(()=>{if(t!=null&&u==null&&i==null){if(r.split(".").some(p=>im.test(p))){let p=r.split(".").slice(0,-1).join(".");if(ho(s(),p)==null)return}a(r,{defaultValue:t})}})},"useApplyInputDefaultValues"),im=/^\d+$/;import*as Ks from"react";import{isValidElement as Xs,useCallback as xo}from"react";import Co from"lodash/get";var ea=n(({optionText:e="name",optionValue:t="id",disableValue:r="disabled",translateChoice:o=!0})=>{let s=Q(),a=xo(c=>{if(Xs(e))return Ks.createElement(de,{value:c},e);let p=typeof e=="function"?e(c):Co(c,e);return Xs(p)?p:o?s(String(p),{_:p}):String(p)},[e,s,o]),i=xo(c=>Co(c,t),[t]),u=xo(c=>Co(c,r),[r]);return{getChoiceText:a,getChoiceValue:i,getDisableValue:u}},"useChoices");import{useCallback as cm,useEffect as ta,useState as um}from"react";import Tr from"lodash/get";import lm from"lodash/isEqual";import{useFormState as dm}from"react-hook-form";var Qw=n(e=>{let{dirtyFields:t,touchedFields:r,errors:o}=dm(),s=He(),[a,i]=um({errors:void 0,isDirty:!1,isTouched:!1,isValid:!0}),u=cm(()=>{let p=s.getGroupFields(e).map(f=>({name:f,error:Tr(o,f,void 0),isDirty:Tr(t,f,!1),isValid:Tr(o,f,void 0)==null,isTouched:Tr(r,f,!1)})).filter(f=>f!=null),m=pm(p);i(f=>lm(f,m)?f:m)},[t,o,r,s,e]);return ta(()=>{u()},[JSON.stringify({dirtyFields:t,errors:o,touchedFields:r}),u]),ta(()=>s.subscribe(e,()=>{u()}),[s,e,u]),a},"useFormGroup"),pm=n(e=>e.reduce((t,r)=>{let o=t.errors||{};return r.error&&(o[r.name]=r.error),{isDirty:t.isDirty||r.isDirty,errors:o,isTouched:t.isTouched||r.isTouched,isValid:t.isValid&&r.isValid}},{isDirty:!1,errors:void 0,isValid:!0,isTouched:!1}),"getFormGroupState");import{useContext as mm}from"react";var ra=n(()=>mm(Cr),"useFormGroupContext");var oa=n(()=>{let e=Q();return t=>{if(t.message!=null){let{message:r,args:o}=t;return e(r,y({_:r},o))}return e(t,{_:t})}},"useGetValidationErrorMessage");import{useEffect as fm}from"react";import{useFormContext as ym}from"react-hook-form";var qw=n((e,t)=>{let{reset:r}=ym();fm(()=>{if(!t)return;let o=ze(e,t);r(o)},[r,JSON.stringify(t,e)])},"useInitializeFormWithRecord");import{useEffect as Rm}from"react";import{useController as Pm,useFormContext as hm}from"react-hook-form";import xm from"lodash/get";var gm=n(e=>e&&e.isRequired?!0:Array.isArray(e)?e.some(t=>t.isRequired):!1,"isRequired"),na=gm;var RI=n(e=>{let L=e,{defaultValue:t,format:r,id:o,isRequired:s,name:a,onBlur:i,onChange:u,parse:c,source:p,validate:m}=L,f=F(L,["defaultValue","format","id","isRequired","name","onBlur","onChange","parse","source","validate"]),x=a||p,C=ra(),b=He(),S=pe(),P=oa(),g=hm();Rm(()=>{if(!(!b||C==null))return b.registerField(p,C),()=>{b.unregisterField(p,C)}},[b,C,p]);let R=Array.isArray(m)?Zs(m):m,{field:M,fieldState:T,formState:h}=Pm(y({name:x,defaultValue:xm(S,p,t),rules:{validate:async v=>{if(!R)return!0;let I=await R(v,g.getValues(),e);return I?P(I):!0}}},f));qs(e);let E=D(y({},M),{value:r?r(M.value):M.value,onBlur:(...v)=>{i&&i(...v),M.onBlur()},onChange:(...v)=>{var N,A,w,O,k,$,q;u&&u(...v);let I=typeof((A=(N=v[0])==null?void 0:N.target)==null?void 0:A.checked)=="boolean"&&((O=(w=v[0])==null?void 0:w.target)==null?void 0:O.value)==="on"?v[0].target.checked:(q=($=(k=v[0])==null?void 0:k.target)==null?void 0:$.value)!=null?q:v[0];M.onChange(c?c(I):I)}});return{id:o||p,field:E,fieldState:T,formState:h,isRequired:s||na(m)}},"useInput");import{useCallback as Cm,isValidElement as Tm}from"react";import sa from"lodash/set";var bI=n(({allowCreate:e,choices:t,createText:r="ra.action.create",createValue:o="@@create",emptyText:s="",emptyValue:a=null,limitChoicesToValue:i,matchSuggestion:u,optionText:c,optionValue:p,selectedItem:m,suggestionLimit:f=0,translateChoice:x})=>{let C=Q(),{getChoiceText:b,getChoiceValue:S}=ea({optionText:c,optionValue:p,translateChoice:x}),P=Cm(Lm({allowCreate:e,choices:t,createText:r,createValue:o,emptyText:C(s,{_:s}),emptyValue:a,getChoiceText:b,getChoiceValue:S,limitChoicesToValue:i,matchSuggestion:u,optionText:c,optionValue:p,selectedItem:m,suggestionLimit:f}),[e,t,r,o,s,a,b,S,i,u,c,p,m,f,C]);return{getChoiceText:b,getChoiceValue:S,getSuggestions:P}},"useSuggestions"),Sm=n(e=>e?e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"):"","escapeRegExp"),Mm=n(e=>(t,r,o=!1)=>{let s=e(r),a=Tm(s),i=Sm(t);return a?!1:s&&!!s.match(new RegExp(o?`^${i}$`:i,"i"))},"defaultMatchSuggestion"),Lm=n(({allowCreate:e=!1,choices:t=[],createText:r="ra.action.create",createValue:o="@@create",emptyText:s="",emptyValue:a=null,optionText:i="name",optionValue:u="id",getChoiceText:c,getChoiceValue:p,limitChoicesToValue:m=!1,matchSuggestion:f=Mm(c),selectedItem:x,suggestionLimit:C=0})=>b=>{let S=[];x&&!Array.isArray(x)&&f(b,x)?m?S=t.filter(R=>p(R)===p(x)):S=[...t]:S=t.filter(R=>f(b,R)||x!=null&&(Array.isArray(x)?x.some(M=>p(R)===p(M)):p(R)===p(x))),S=bm(S,C);let P=S.some(R=>f(b,R,!0));if(e){let R=!!x&&!Array.isArray(x)?f(b,x,!0):!1;!P&&!R&&S.push(Em({optionText:i,optionValue:u,text:r,value:o}))}return S.filter((R,M)=>S.indexOf(R)===M)},"getSuggestionsFactory"),bm=n((e,t=0)=>Number.isInteger(t)&&t>0?e.slice(0,t):e,"limitSuggestions"),Em=n(({optionText:e="name",optionValue:t="id",text:r="",value:o=null})=>{let s={};return sa(s,t,o),typeof e=="string"&&sa(s,e,r),s},"getSuggestion");var oA="I18N_TRANSLATE",nA="I18N_CHANGE_LOCALE";export{Cn as AUTH_CHECK,Tn as AUTH_ERROR,Mn as AUTH_GET_PERMISSIONS,xn as AUTH_LOGIN,Sn as AUTH_LOGOUT,Go as AdminRouter,We as AuthContext,xP as Authenticated,Vo as BasenameContextProvider,zr as CREATE,xr as ChoicesContext,aD as ChoicesContextProvider,li as ComponentPropType,eT as CoreAdmin,oo as CoreAdminContext,so as CoreAdminRoutes,Wn as CoreAdminUI,CM as CreateBase,dt as CreateContext,ls as CreateContextProvider,bM as CreateController,Su as CustomRoutes,Xo as DEFAULT_LOCALE,Yr as DELETE,Jr as DELETE_MANY,qe as DataProviderContext,iL as EditBase,pt as EditContext,ys as EditContextProvider,pL as EditController,wu as ExporterContext,ci as FieldTitle,ew as Form,vp as FormDataConsumer,Cr as FormGroupContext,Sw as FormGroupContextProvider,xt as FormGroupsContext,Gs as FormGroupsProvider,Vr as GET_LIST,Qr as GET_MANY,_r as GET_MANY_REFERENCE,Gr as GET_ONE,ct as HIDE_FILTER,Br as HttpError,nA as I18N_CHANGE_LOCALE,oA as I18N_TRANSLATE,Ye as I18nContext,At as I18nContextProvider,BT as InferenceTypes,_ as InferredElement,pb as ListBase,mt as ListContext,bs as ListContextProvider,Rb as ListController,ft as ListFilterContext,gt as ListPaginationContext,yt as ListSortContext,wt as NotificationContext,$o as NotificationContextProvider,fs as OptionalRecordContextProvider,Ir as Ready,ar as RecordContext,de as RecordContextProvider,$n as Resource,Ot as ResourceContext,zt as ResourceContextProvider,to as ResourceDefinitionContext,Vn as ResourceDefinitionContextProvider,De as SET_FILTER,Qe as SET_PAGE,at as SET_PER_PAGE,st as SET_SORT,it as SHOW_FILTER,oe as SORT_ASC,rr as SORT_DESC,ir as SaveContext,cr as SaveContextProvider,Rv as ShowBase,ht as ShowContext,Fs as ShowContextProvider,Tv as ShowController,vt as StoreContext,Yo as StoreContextProvider,Of as StoreSetter,sy as TestTranslationProvider,Ft as TranslatableContext,dy as TranslatableContextProvider,Hr as UPDATE,Wr as UPDATE_MANY,Ip as ValidationError,Or as WithPermissions,$M as WithRecord,dw as choices,Xp as combine2Validators,XP as combineDataProviders,ow as composeSyncValidators,Zs as composeValidators,jr as convertLegacyAuthProvider,Zr as convertLegacyDataProvider,ke as defaultDataProvider,tt as defaultExporter,co as downloadCSV,lw as email,Va as escapePath,$r as fetchActionsWithArrayOfIdentifiedRecordsResponse,bn as fetchActionsWithArrayOfRecordsResponse,Ln as fetchActionsWithRecordResponse,En as fetchActionsWithTotalResponse,Fu as fetchRelatedRecords,An as fetchUtils,Xu as getElementsFromRecords,Je as getFieldLabelTranslationArgs,pm as getFormGroupState,zL as getListControllerProps,gi as getMutationMode,hs as getNumberOrDefault,pd as getQuery,Il as getRecordFromLocation,Ds as getSelectedReferencesStatus,Po as getSimpleValidationResolver,tp as getStatusForArrayInput,Xd as getStatusForInput,Pe as getStorage,Lm as getSuggestionsFactory,ve as getValuesFromRecords,dd as hasCustomParams,ns as inferTypeFromValues,Ts as injectedProps,pw as isRequired,Wm as linkToRecord,Rf as localStorageStore,aw as maxLength,cw as maxValue,Et as memoryStore,Fg as mergeRefs,gy as mergeTranslations,sw as minLength,iw as minValue,uw as number,ld as parseQueryFromLocation,or as queryReducer,em as regex,ie as removeDoubleSlashes,X as removeEmpty,Dr as removeKey,nw as required,yy as resolveBrowserLocale,Jm as resolveRedirectTo,GP as sanitizeFetchType,HL as sanitizeListRestProps,Qs as setSubmissionErrors,rn as shallowEqual,th as testDataProvider,ye as undoableEventEmitter,qs as useApplyInputDefaultValues,Ys as useAugmentedForm,ee as useAuthProvider,Ar as useAuthState,re as useAuthenticated,ae as useBasename,Ue as useCheckAuth,xl as useCheckMinimumRequiredProps,ea as useChoices,pD as useChoicesContext,On as useCreate,IM as useCreateContext,sr as useCreateController,Lt as useCreatePath,W as useDataProvider,Vg as useDeepCompareEffect,Qt as useDelete,Vx as useDeleteMany,El as useDeleteWithConfirmController,Sl as useDeleteWithUndoController,RL as useEditContext,dr as useEditController,cn as useEventCallback,oE as useExpanded,sl as useFilterState,Qw as useFormGroup,ra as useFormGroupContext,oc as useGetIdentity,je as useGetList,Uh as useGetMany,Ve as useGetManyAggregate,Gt as useGetManyReference,Vt as useGetOne,Be as useGetPermissions,Te as useGetResourceLabel,oa as useGetValidationErrorMessage,Nt as useI18nProvider,qw as useInitializeFormWithRecord,RI as useInput,mh as useIsDataLoaded,_s as useIsFormInvalid,ln as useIsMounted,gr as useList,Ib as useListContext,mr as useListController,Ub as useListFilterContext,Qb as useListPaginationContext,Rs as useListParams,Yb as useListSortContext,Rh as useLoading,by as useLocale,Ne as useLocaleState,ec as useLogin,Ee as useLogout,kr as useLogoutIfAccessDenied,It as useNotificationContext,G as useNotify,lt as usePaginationState,Fr as usePermissions,Nr as usePermissionsOptimized,Ss as usePickFilterContext,Ls as usePickPaginationContext,ur as usePickSaveContext,Ms as usePickSortContext,Ti as usePrevious,pe as useRecordContext,me as useRecordSelection,ce as useRedirect,As as useReference,lE as useReferenceArrayFieldController,jE as useReferenceArrayInputController,$E as useReferenceInputController,CE as useReferenceManyFieldController,bE as useReferenceOneFieldController,jt as useRefresh,dn as useRemoveFromStore,pn as useResetStore,H as useResourceContext,Zn as useResourceDefinition,_t as useResourceDefinitionContext,Yt as useResourceDefinitions,z as useSafeSetState,us as useSaveContext,Qo as useScrollToTop,Dy as useSetLocale,Ev as useShowContext,hr as useShowController,ut as useSortState,ue as useStore,he as useStoreContext,bI as useSuggestions,un as useTimeout,Vy as useTranslatable,Hy as useTranslatableContext,Q as useTranslate,nr as useUnselect,Xb as useUnselectAll,Un as useUpdate,xx as useUpdateMany,zs as useWarnWhenUnsavedChanges,an as useWhyDidYouUpdate,ud as validQueryParams,$e as warning};
//# sourceMappingURL=index.js.map